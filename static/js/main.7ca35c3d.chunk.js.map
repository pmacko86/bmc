{"version":3,"sources":["Styles.tsx","InstructionsBar.tsx","TopBar.tsx","BookActionScreen.tsx","Draggable.tsx","MeasureComponents.tsx","SvgTransform.tsx","BmcDiagram.tsx","BmcData.tsx","DiagramScreen.tsx","BookChooser.tsx","HomeScreen.tsx","FirstLetterTextInput.tsx","BmcTextInput.tsx","MyKeyboardAvoidingView.tsx","StudyScreen.tsx","TestScreen.tsx","App.tsx","index.js"],"names":["STYLES","StyleSheet","create","headerBackView","backgroundColor","borderColor","borderWidth","margin","headerBackText","color","padding","headerTitle","paddingBottom","paddingLeft","paddingTop","headerView","instructions","paddingRight","test","bmcTextChapter","actionList","actionListItem","InstructionsBar","Text","style","selectable","this","props","text","React","Component","TopBar","handleBack","bind","event","stopPropagation","preventDefault","Platform","OS","onBackIfWeb","navigation","goBack","View","flexDirection","hideBack","TouchableHighlight","onPress","BookActionScreen","state","action","bookName","getParam","navigate","book","SafeAreaView","flex","ScrollView","e","chooseAction","Draggable","ref","deltaPosition","panResponder","x","y","pan","Animated","ValueXY","addListener","value","setValue","gestureX","gestureY","relativeX","relativeY","dropLocation","gx","gy","dlx","dly","width","height","onDropToLocation","spring","toValue","friction","start","disabled","PanResponder","onStartShouldSetPanResponder","gesture","onPanResponderMove","dx","dy","onPanResponderRelease","moveX","moveY","measure","textX","textY","textW","textH","textPX","textPY","dropLocationRelative","w","h","px","py","onRelease","panHandlers","transform","getTranslateTransform","position","left","top","r","children","MeasureComponents","layouts","count","remaining","Children","Array","index","d","nativeEvent","layout","done","i","length","onMeasure","justifyContent","alignItems","overflow","map","child","key","onLayout","l","handleOnLayout","SvgTransform","matrix","math","second","undefined","clone","p0","p1","v","get","yy","s","parts","split","fn","params","parseFloat","then","fromTranslate","fromScale","DATA","require","DEFAULT_FONT_SIZE","SvgTextSpan","attrs","origin","scale","fontFamily","fontSize","fontSizeScaled","fill","vectorOne","apply","Math","sqrt","ignoreLocation","asHint","textShadowColor","textShadowOffset","textShadowRadius","replace","SvgText","svg","location","textSpans","testLocation","extractText","locationTransform","transformSoFar","textAttrs","parse","type","name","childs","a","Object","assign","keys","k","c","push","firstSpan","reduce","t","slice","other","locationTransformForThis","abs","forEach","locationTransformForOther","thisX2","thisY2","otherX2","otherY2","renderNative","SvgTextComponent","overall","p","max","setState","spanLayouts","overallLayout","handleMeasure","BmcDiagram","svgView","svgViewBox","texts","viewBox","extractSvgText","flat","correctTextLocation","testMode","totalWidth","deleted","j","b","merge","match","filter","collator","Intl","Collator","numeric","sensitivity","sort","compare","tx","ty","widest","hasTestLayouts","doTestLayout","renderSvg","windowDimensions","Dimensions","layoutTransform","svgWidth","svgHeight","containerLayout","tm","sm","flexGrow","flexShrink","testHints","atTestLocation","handleSvgTextComponentLayout","BMC_DATA","contents","title","items","chapter","part","label","heading","notes","StudyScreen","BMC","find","BookChooser","item","onChoose","HomeScreen","bookItems","handleBookChoose","FirstLetterTextInput","words","input","editlockLocked","editlockTimeMS","editlockTimeoutMS","editlockTimeoutSafetyMS","textParts","n","charAt","substr","word","byLetter","showOnlyIfTriggered","optional","optionalWords","toLowerCase","skip","charIndex","correct","triggered","keyPressCount","handlePress","handleChange","handleKeyPress","suppressTopBackspace","onTopBackspace","prevWord","focus","handleKey","Date","getTime","setTimeout","correctState","from","to","triggeredState","wasCorrect","reachedEnd","wordLowerCase","originalIndex","originalCharIndex","findNextCharacter","nextWordCharacter","nextWordCharacterIndex","nextNextWordCharacter","nextNextWordCharacterIndex","matches","updateCorrectState","nextWord","doNextWord","temporaryEventLock","allowBackspace","backspace","onCompletion","isAndroidWeb","navigator","userAgent","indexOf","readOnly","platformDependentProps","autoCompleteType","incorrect","unseen","TouchableWithoutFeedback","flexWrap","correctStyle","incorrectStyle","TextInput","onKeyPress","onChange","autoCorrect","autoFocus","editable","selectTextOnFocus","caretHidden","maxLength","secureTextEntry","textContentType","autoCapitalize","fromIndex","shiftLeft","displayAll","marginLeft","unseenStyle","BmcTextInput","elements","isHeading","addSpace","previousIndex","headingStyle","fontWeight","displayAllTextInItem","everythingEditable","element","displayAllItems","createInput","withChapter","textAlign","MyKeyboardAvoidingView","KeyboardAvoidingView","behavior","keyboardShouldPersistTaps","TestScreen","routes","Home","screen","BookAction","Diagram","DiagramScreen","Study","Test","MainNavigator","createSwitchNavigator","backBehavior","App","createBrowserApp","history","ReactDom","render","document","getElementById"],"mappings":"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ACEF,QAAS,EACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gEAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAKgB,CAC3BJ,MAAO,SACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gEAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mFAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAKmB,CAC9BJ,MAAO,YACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAKiB,CAC5BJ,MAAO,UACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,4DAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,+BAET,CACEF,QAAS,QACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oEAMqB,CAChCJ,MAAO,cACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNE,QAAS,qBACTD,MAAO,YAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kEAGT,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNE,QAAS,oBACTD,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kEAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNE,QAAS,uBACTD,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNE,QAAS,iCACTD,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAKgB,CAC3BJ,MAAO,SACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAKgB,CAC3BJ,MAAO,SACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,0CAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,gCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,cAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAKc,CACzBJ,MAAO,OACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,yEAGT,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,4CAKkB,CAC7BJ,MAAO,WACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAKkB,CAC7BJ,MAAO,WACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kEAKiB,CAC5BJ,MAAO,UACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAKiB,CAC5BJ,MAAO,UACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,2BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,8BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,eAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAKsB,CACjCJ,MAAO,eACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,cAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAKsB,CACjCJ,MAAO,eACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,cAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,YAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,QAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oEAMiB,CAC5BJ,MAAO,UACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,6BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,eAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,kBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,QAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,wCAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,eAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,cAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,+BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,aAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kHAIT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,6BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4CAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,+BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mFAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAKc,CACzBJ,MAAO,OACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,4DAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,oCAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,0BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,6BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,4BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,mCAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,4CAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,+BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,gBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4CAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,cAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kFAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mFAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+CAKc,CACzBJ,MAAO,OACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,wCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,+CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,wCAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,SAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,YAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,oBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,0BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,4BAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,+CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2DAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iDAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,kDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,4CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oEAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6CAKc,CACzBJ,MAAO,OACPM,MAAO,CACL,oCAEFL,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,qBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,IACNC,MAAO,wBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,gDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,wDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,qCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAKc,CACzBJ,MAAO,OACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,6EAGT,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oEAGT,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,2BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iCAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,+CAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,6CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,2DAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,qDAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gGAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yHAIT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,qBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4FAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iFAGT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,2CAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,2BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,SAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,UAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kGAGT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kFAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,sCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kDAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,6FAGT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,0CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,iEAGT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,gCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,4BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wEAGT,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,wBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,0CAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,kEAGT,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,8CAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,0BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oDAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,yBAET,CACEF,QAAS,GACTC,KAAM,IACNC,MAAO,uDAKgB,CAC3BJ,MAAO,SACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNE,QAAS,kBACTD,MAAO,iBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,aAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,sBAET,CACEF,QAAS,EACTC,KAAM,KACNE,QAAS,wBACTD,MAAO,4BAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,4BAET,CACEF,QAAS,EACTC,KAAM,KACNE,QAAS,6BACTD,MAAO,WAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,OAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,UAET,CACEF,QAAS,EACTC,KAAM,KACNE,QAAS,sBACTD,MAAO,iBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oBAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,mBAET,CACEF,QAAS,GACTC,KAAM,KACNE,QAAS,qBACTD,MAAO,iCAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,8BAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,oCAET,CACEF,QAAS,GACTC,KAAM,KACNE,QAAS,GACTD,MAAO,WAET,CACEF,QAAS,GACTC,KAAM,KACNC,MAAO,eAKoB,CAC/BJ,MAAO,aACPC,MAAO,CACL,CACEC,QAAS,EACTC,KAAM,KACNC,MAAO,uBAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,0DAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,oDAET,CACEF,QAAS,EACTC,KAAM,KACNC,MAAO,iBAET,CACEF,QAAS,EAC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","file":"static/js/main.7ca35c3d.chunk.js","sourcesContent":["import { StyleSheet } from 'react-native';\n\nconst STYLES = StyleSheet.create({\n  headerBackView: {\n    backgroundColor: \"#222\",\n    borderColor: \"#aaa\",\n    borderWidth: 1,\n    margin: 4,\n  },\n  headerBackText: {\n    color: \"#aaa\",\n    padding: 8,\n  },\n  headerTitle: {\n    color: \"#fff\",\n    paddingBottom: 13,\n    paddingLeft: 12,\n    paddingTop: 13,\n  },\n  headerView: {\n    backgroundColor: \"#000\",\n    padding: 4,\n  },\n  instructions: {\n    backgroundColor: \"#ccc\",\n    color: \"#000\",\n    paddingTop: 4,\n    paddingBottom: 4,\n    paddingLeft: 8,\n    paddingRight: 4,\n  },\n  test: {\n    backgroundColor: \"#fff\",\n    color: \"#000\",\n    padding: 4,\n  },\n  bmcTextChapter: {\n    paddingTop: 4\n  },\n  actionList: {\n    backgroundColor: \"#fff\",\n    padding: 4,\n  },\n  actionListItem: {\n    color: \"#000\",\n    padding: 4,\n  },\n});\n\nexport default STYLES;\n","import React from 'react';\nimport { Text } from 'react-native';\nimport STYLES from './Styles';\n\n\ntype InstructionsBarProps = {\n  text: string;\n}\n\n\ntype InstructionsBarState = {\n}\n\n\nexport default class InstructionsBar\nextends React.Component<InstructionsBarProps, InstructionsBarState> {\n\n  render() {\n    return (\n      <Text\n        style={STYLES.instructions}\n        selectable={false}\n        >{this.props.text}</Text>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  GestureResponderEvent,\n  Text,\n  Platform,\n  TouchableHighlight,\n  View\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport STYLES from './Styles';\n\n\ntype TopBarProps = {\n  navigation: NavigationStackProp;\n  hideBack?: boolean;\n  text: string;\n  onBackIfWeb?: () => void;\n}\n\n\ntype TopBarState = {\n}\n\n\nexport default class TopBar\nextends React.Component<TopBarProps, TopBarState> {\n\n  constructor(props: TopBarProps) {\n    super(props);\n    this.handleBack = this.handleBack.bind(this);\n  }\n\n\n  handleBack(event: GestureResponderEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (Platform.OS === \"web\" && this.props.onBackIfWeb) {\n      this.props.onBackIfWeb();\n    }\n    else {\n      this.props.navigation.goBack();\n    }\n  }\n\n\n  render() {\n    return (\n      <View\n        style={[STYLES.headerView, {\n          flexDirection: \"row\",\n        }]}\n        >\n        {this.props.hideBack ? null :\n          <TouchableHighlight onPress={this.handleBack}>\n            <View style={STYLES.headerBackView}>\n              <Text\n                style={STYLES.headerBackText}\n                selectable={false}\n                >&lt; Back</Text>\n            </View>\n          </TouchableHighlight>}\n        <Text\n          style={STYLES.headerTitle}\n          selectable={false}\n          >{this.props.text}</Text>\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  SafeAreaView,\n  ScrollView,\n  TouchableHighlight,\n  Text,\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport InstructionsBar from './InstructionsBar';\nimport TopBar from './TopBar';\nimport STYLES from './Styles';\n\ntype BookActionScreenProps = {\n  navigation: NavigationStackProp<{ book: string }>;\n}\n\ntype BookActionScreenState = {\n}\n\nexport default class BookActionScreen\nextends React.Component<BookActionScreenProps, BookActionScreenState> {\n\n  constructor(props: BookActionScreenProps) {\n    super(props);\n    this.state = {}\n  }\n\n\n  chooseAction(action: string) {\n    const bookName = this.props.navigation.getParam(\"book\");\n    this.props.navigation.navigate(action, { book: bookName });\n  }\n\n\n  render() {\n    const bookName = this.props.navigation.getParam(\"book\");\n    return (\n      <SafeAreaView style={{ flex: 1 }}>\n        <TopBar\n          navigation={this.props.navigation as unknown as NavigationStackProp}\n          text={bookName}\n          onBackIfWeb={() => this.props.navigation.navigate(\"Home\")}\n          />\n        <InstructionsBar\n          text={\"What would you like to do?\"} />\n        <ScrollView style={STYLES.actionList}>\n          <TouchableHighlight onPress={e => this.chooseAction(\"Study\")}>\n            <Text style={STYLES.actionListItem}>Study</Text>\n          </TouchableHighlight>\n          <TouchableHighlight onPress={e => this.chooseAction(\"Diagram\")}>\n            <Text style={STYLES.actionListItem}>Test the Diagram [experimental]</Text>\n          </TouchableHighlight>\n          <TouchableHighlight onPress={e => this.chooseAction(\"Test\")}>\n            <Text style={STYLES.actionListItem}>Test the Chapter Titles</Text>\n          </TouchableHighlight>\n        </ScrollView>\n      </SafeAreaView>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Animated,\n  LayoutRectangle,\n  PanResponder,\n  PanResponderInstance,\n  Text,\n  View,\n} from \"react-native\";\n\n\n/**\n * Point coordinates.\n */\ntype XY = {\n  x: number;\n  y: number;\n}\n\n\ntype DraggableProps = {\n  disabled?: boolean;\n  dropLocation?: LayoutRectangle;\n  dropLocationRelative?: View | Text | null;\n  onDropToLocation?: () => void;\n  style: {};\n}\n\n\ntype DraggableState = {\n  pan: Animated.ValueXY;\n}\n\n\n/**\n * A draggable element.\n */\nexport default class Draggable\nextends React.Component<DraggableProps, DraggableState> {\n\n  ref: View | null;\n\n  deltaPosition: XY;\n  panResponder: PanResponderInstance | undefined;\n\n\n  /**\n   * The constructor.\n   *\n   * @param [DraggableProps] props the properties\n   */\n  constructor(props: DraggableProps) {\n    super(props);\n    this.deltaPosition = { x: 0, y: 0 };\n    this.ref = null;\n    this.state = { pan: new Animated.ValueXY() };\n    this.state.pan.addListener((value) => this.deltaPosition = value);\n    this.state.pan.setValue({ x: 0, y: 0 });\n  }\n\n\n  /**\n   * The handle on drag release.\n   *\n   * @param [number] gestureX the X coordinate of the release\n   * @param [number] gestureY the Y coordinate of the release\n   * @param [number] relativeX the delta to apply to the X coordinate\n   * @param [number] relativeY the delta to apply to the Y coordinate\n   */\n  onRelease(gestureX: number, gestureY: number,\n    relativeX: number, relativeY: number) {\n\n    if (!this.props.dropLocation) {\n      Animated.spring(this.state.pan, {\n        toValue: { x: 0, y: 0 },\n        friction: 10\n      }).start();\n      return;\n    }\n\n    const gx = gestureX;\n    const gy = gestureY;\n    const dlx = this.props.dropLocation.x + relativeX;\n    const dly = this.props.dropLocation.y + relativeY;\n\n    if (gx >= dlx && gx < dlx + this.props.dropLocation.width\n      && gy >= dly && gy < dly + this.props.dropLocation.height) {\n      if (this.props.onDropToLocation) this.props.onDropToLocation();\n    }\n    else {\n      Animated.spring(this.state.pan, {\n        toValue: { x: 0, y: 0 },\n        friction: 10\n      }).start();\n    }\n  }\n\n\n  /**\n   * Handler for receiving properties.\n   *\n   * @param [DraggableProps] props the new properties\n   */\n  UNSAFE_componentWillReceiveProps(props: DraggableProps) {\n    if (!props.disabled) {\n      this.panResponder = PanResponder.create({\n        onStartShouldSetPanResponder: (e, gesture) => true,\n        onPanResponderMove: Animated.event([\n          null, { dx: this.state.pan.x, dy: this.state.pan.y }\n        ]),\n        onPanResponderRelease: (e, gesture) => {\n          const gx = gesture.moveX;\n          const gy = gesture.moveY;\n          if (this.ref) {\n            this.ref.measure((textX, textY, textW, textH, textPX, textPY) => {\n              const dx = gx - textPX;\n              const dy = gy - textPY;\n              if (this.props.dropLocationRelative) {\n                this.props.dropLocationRelative.measure(\n                  (x, y, w, h, px, py) => {\n                    this.onRelease(gx, gy, px + dx, py + dy);\n                  }\n                );\n              }\n              else {\n                this.onRelease(gx, gy, dx, dy);\n              }\n            });\n          }\n        }\n      });\n    }\n    else {\n      this.panResponder = PanResponder.create({});\n      this.state.pan.setValue({ x: 0, y: 0 });\n    }\n  }\n\n\n  /**\n   * Render the component.\n   *\n   * @return [Animated.View] the rendered component.\n   */\n  render() {\n    let panHandlers = this.panResponder ? this.panResponder.panHandlers : {};\n    return (\n      <Animated.View\n        style={{\n          transform: this.state.pan.getTranslateTransform(),\n          // @ts-ignore\n          position: this.props.style.position,\n          // @ts-ignore\n          left: this.props.style.left,\n          // @ts-ignore\n          top: this.props.style.top,\n        }}\n        {...panHandlers}>\n        <View ref={r => { this.ref = r; }}>\n          {this.props.children}\n        </View>\n      </Animated.View>);\n  }\n}\n","import React from 'react';\nimport {\n  LayoutChangeEvent,\n  LayoutRectangle,\n  View,\n} from 'react-native';\n\ntype MeasureComponentsProps = {\n  onMeasure?: (layouts: LayoutRectangle[]) => void;\n}\n\ntype MeasureComponentsState = {\n}\n\nexport default class MeasureComponents\nextends React.Component<MeasureComponentsProps, MeasureComponentsState> {\n\n  layouts: LayoutRectangle[];\n  count: number;\n  remaining: number;\n\n  constructor(props: MeasureComponentsProps) {\n    super(props);\n    this.state = {};\n    this.count = this.props.children\n      ? React.Children.count(this.props.children) : 0;\n    this.remaining = this.count;\n    this.layouts = new Array<LayoutRectangle>(this.count);\n  }\n\n\n  handleOnLayout(index: number, event: LayoutChangeEvent) {\n    let d: LayoutRectangle = {\n      x: 0,\n      y: 0,\n      width: event.nativeEvent.layout.width,\n      height: event.nativeEvent.layout.height,\n    }\n    this.layouts[index] = d;\n    this.remaining--;\n\n    if (this.remaining <= 0) {\n      let done = true;\n      for (let i = 0; i < this.layouts.length; i++) {\n        if (!this.layouts[i]) {\n          done = false;\n          break;\n        }\n      }\n      if (done && this.props.onMeasure) {\n        /*let x = {};\n        React.Children.map(this.props.children, (child, i) => {\n          x[child.props[\"key\"]] = this.layouts[i];\n        });*/\n        this.props.onMeasure(this.layouts);\n      }\n    }\n  }\n\n\n  render() {\n    return (\n      <View style={{\n        width: 2000,\n        height: 0,\n        flex: 1,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'flex-start',\n        overflow: 'hidden',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n      }}>\n        {React.Children.map(this.props.children,\n          (child, i) => {\n            return (\n              <View\n                key={i}\n                onLayout={l => this.handleOnLayout(i, l)}\n                style={{\n                  position: 'absolute',\n                  left: 0,\n                  top: 0,\n                  flex: 1,\n                  alignItems: 'center',\n                }}\n                >{child}</View>\n            )\n        })}\n      </View>\n    );\n  }\n}\n","import * as math from \"mathjs\";\n\n\n/**\n * Point coordinates.\n */\ntype XY = {\n  x: number;\n  y: number;\n}\n\n\n/**\n * Class representing SVG transform.\n *\n * All instances of this class are immutable.\n */\nexport default class SvgTransform {\n  matrix: math.Matrix;\n\n\n  /**\n   * Create a new instance of the class.\n   *\n   * @param [math.Matrix] the 3x3 transform matrix.\n   */\n  constructor(matrix?: math.Matrix) {\n    if (matrix) {\n      this.matrix = matrix;\n    }\n    else {\n      this.matrix = math.matrix([[1, 0, 0], [0, 1, 0], [0, 0, 1]], \"dense\");\n    }\n  }\n\n\n  /**\n   * Create the class from a translation transform.\n   *\n   * @param [number] x the X delta\n   * @param [number] y the Y delta\n   * @return [SvgTransform] the transform\n   */\n  static fromTranslate(x: number, y: number): SvgTransform {\n    let m = math.matrix([[1, 0, x], [0, 1, y], [0, 0, 1]], \"dense\");\n    return new SvgTransform(m);\n  }\n\n\n  /**\n   * Create the class from a scale transform.\n   *\n   * @param [number] x the X scale (or the overall scale if y is undefined)\n   * @param [number] y the Y scale\n   * @return [SvgTransform] the transform\n   */\n  static fromScale(x: number, y?: number): SvgTransform {\n    let yy = y === undefined ? x : y;\n    let m = math.matrix([[x, 0, 0], [0, yy, 0], [0, 0, 1]], \"dense\");\n    return new SvgTransform(m);\n  }\n\n\n  /**\n   * Clone the object.\n   *\n   * @return [SvgTransform] the cloned object\n   */\n  clone(): SvgTransform {\n    let m = this.matrix;\n    return new SvgTransform(m);\n  }\n\n\n  /**\n   * Combine with another transform.\n   *\n   * @param [SvgTransform | null] second the other transform\n   * @return [SvgTransform] the combined transform\n   */\n  then(second?: SvgTransform | null) {\n    if (second === undefined || second === null) return this.clone();\n    let m = math.multiply(second.matrix, this.matrix) as math.Matrix;\n    return new SvgTransform(m);\n  }\n\n\n  /**\n   * Apply the transform.\n   *\n   * @param [XY] x the input vector.\n   * @return [XY] the output vector.\n   */\n  apply(x: XY): XY;\n\n\n  /**\n   * Apply the transform.\n   *\n   * @param [number] x the X coordinate of the input vector.\n   * @param [number] y the Y coordinate of the input vector.\n   * @return [XY] the output vector.\n   */\n  apply(x: number, y: number): XY;\n\n\n  /**\n   * Apply the transform.\n   *\n   * @param [XY | number] p0 the vector or the X coordinate\n   * @param [number] p1 the Y coordinate\n   * @return [XY] the output vector.\n   */\n  apply(p0: XY | number, p1?: number): XY {\n\n    let x, y;\n    if (typeof p0 === \"number\" && typeof p1 === \"number\") {\n      x = p0;\n      y = p1;\n    }\n    else if (typeof p0 === \"object\") {\n      x = (p0 as XY).x;\n      y = (p0 as XY).y;\n    }\n    else {\n      x = 0;\n      y = 0;\n    }\n\n    let v = math.matrix([[x], [y], [1]]);\n    let r = math.multiply(this.matrix, v) as math.Matrix;\n    let p = { x: r.get([0, 0]), y: r.get([1, 0]) };\n    return p;\n  }\n\n\n  /**\n   * Parse the transform from a string, ignoring all errors.\n   *\n   * @param [string] s the string.\n   * @return [SvgTransform] the transform.\n   */\n  static parse(s: string): SvgTransform {\n    let r = new SvgTransform();\n    let parts = s.split(/\\)[^a-zA-Z0-9]*/);\n    for (let i = 0; i < parts.length; i++) {\n      if (parts[i] === \"\") continue;\n      let [fn, t] = parts[i].split(\"(\", 2);\n      let params = t.split(/ +/);\n      if (fn === \"translate\" && params.length === 2) {\n        let x = parseFloat(params[0]);\n        let y = parseFloat(params[1]);\n        r = r.then(SvgTransform.fromTranslate(x, y));\n      }\n      if (fn === \"scale\" && params.length === 1) {\n        let x = parseFloat(params[0]);\n        r = r.then(SvgTransform.fromScale(x, x));\n      }\n      if (fn === \"scale\" && params.length === 2) {\n        let x = parseFloat(params[0]);\n        let y = parseFloat(params[1]);\n        r = r.then(SvgTransform.fromScale(x, y));\n      }\n    }\n    return r;\n  }\n}\n","import React from 'react';\nimport {\n  Dimensions,\n  LayoutRectangle,\n  Text,\n  View,\n} from \"react-native\";\n\nimport Svg from 'react-native-svg';\nimport * as SvgComponent from 'react-native-svg';\n\nimport Draggable from './Draggable';\nimport MeasureComponents from './MeasureComponents';\nimport SvgTransform from './SvgTransform';\n\n// TODO Use this instead when not running in Expo\n// import TextSize from 'react-native-text-size';\n\n\n/**\n * The diagram data (SVGs converted to a single JSON).\n */\nconst DATA = require(\"./assets/diagrams.json\");\n\n/**\n * The font size to use when there is no size specified.\n */\nconst DEFAULT_FONT_SIZE = 14;\n\n\n/**\n * Point coordinates.\n */\ntype XY = {\n  x: number;\n  y: number;\n}\n\n\n/**\n * A text span\n */\nclass SvgTextSpan {\n\n  text: string;\n  attrs: any;\n  transform: SvgTransform;\n\n  color: string;\n  origin: XY;\n  scale: number;\n  fontFamily: string;\n  fontSize: number;\n  fontSizeScaled: number;\n\n  layout?: LayoutRectangle; // will be filled out asynchronously\n\n\n  /**\n   * The constructor.\n   *\n   * @param [string] text the text\n   * @param [any] attrs the attributes\n   * @param [SvgTransform] transform the transform\n   */\n  constructor(text: string, attrs: any, transform: SvgTransform) {\n\n    this.text = text;\n    this.attrs = attrs;\n    this.transform = transform;\n\n\n    // Derrived attributes\n\n    this.color = this.attrs.fill || \"black\";\n    this.fontFamily = this.attrs.fontFamily || \"Helvetica\";\n    this.fontSize = this.attrs.fontSize\n      ? parseFloat(this.attrs.fontSize) : DEFAULT_FONT_SIZE;\n    const vectorOne = this.transform.apply(1, 0);\n    this.origin = this.transform.apply(0, 0);\n    this.scale = Math.sqrt((vectorOne.x - this.origin.x)**2\n      + (vectorOne.y - this.origin.y)**2);\n    this.fontSizeScaled = this.fontSize * this.scale;\n    this.origin.y -= this.fontSizeScaled;\n  }\n\n\n  /**\n   * Get the location.\n   *\n   * @return [XY] the location.\n   */\n  get location(): XY {\n    return this.origin;\n  }\n\n\n  /**\n   * Clone.\n   *\n   * @return [SvgTextSpan] the cloned span.\n   */\n  clone(): SvgTextSpan {\n    let r = new SvgTextSpan(this.text, this.attrs, this.transform);\n    r.layout = this.layout;\n    return r;\n  }\n\n\n  /**\n   * Render using React Native (not SVG).\n   *\n   * @param [any] key the key.\n   * @param [number] scale the scale.\n   * @param [boolean] ignoreLocation whether to ignore location.\n   * @param [boolean] asHint whether to render this as a hint.\n   * @return [React.Component] the rendered component.\n   */\n  renderNative(key: any, scale: number = 1,\n    ignoreLocation: boolean = false, asHint: boolean = false) {\n    return (\n      <Text\n        key={key}\n        selectable={false}\n        style={[\n          {\n            color: !asHint ? this.color : \"transparent\",\n            fontFamily: this.fontFamily,\n            fontSize: scale * this.fontSizeScaled,\n            //letterSpacing: -1,\n          },\n          !ignoreLocation ? {\n            position: \"absolute\",\n            left: scale * this.origin.x,\n            top: scale * this.origin.y + 2,   // Everything seems shifted...\n          } : {},\n          !asHint ? {} : {\n            textShadowColor: this.color,\n            textShadowOffset: { width: 0, height: 0 },\n            textShadowRadius: scale * this.fontSizeScaled * 2 / 3,\n          },\n        ]}\n        >{this.text.replace(/ /g, \"\\u00a0\" /* &nbsp; */)}</Text>\n    );\n  }\n}\n\n\n/**\n * A text component extracted from the SVG, which can consist of zero\n * or more text spans.\n */\nclass SvgText {\n\n  //svg: {[key: string]: any};\n  //attrs: any;\n  //transform: SvgTransform;\n  text: string;\n\n  location: XY;\n  fontSize: number;\n  color: string;\n  textSpans: SvgTextSpan[];\n\n  testLocation?: XY;\n  layout?: LayoutRectangle;   // will be filled out asynchronously\n\n\n  /**\n   * The constructor.\n   *\n   * @oaram [{[key: string]: any}] svg the SVG\n   * @param [SvgTransform] transform the transform\n   */\n  constructor(svg: {[key: string]: any}, transform: SvgTransform) {\n\n    //this.svg = svg;\n    //this.transform = transform;\n    //this.attrs = svg.attrs;\n\n    this.text = this.extractText(svg);\n    this.location = transform.apply(0, 0);\n\n\n    // Extract the individual text spans\n\n    const locationTransform\n      = SvgTransform.fromTranslate(-this.location.x, -this.location.y);\n    this.textSpans = [];\n\n    const fn = (\n      svg: any,\n      transformSoFar: SvgTransform | null,\n      textAttrs: any | null,\n    ) => {\n\n      // Determine the new transform\n\n      let transform = transformSoFar || new SvgTransform();\n      if (svg.attrs) {\n        if (svg.attrs.transform) {\n          transform = transform.then(SvgTransform.parse(svg.attrs.transform));\n        }\n        if (svg.attrs.x || svg.attrs.y) {\n          transform = transform.then(SvgTransform.fromTranslate(\n            svg.attrs.x ? parseFloat(svg.attrs.x) : 0,\n            svg.attrs.y ? parseFloat(svg.attrs.y) : 0));\n        }\n      }\n\n\n      // Handle the text component and the text spans\n\n      if (svg.type === \"Text\" || svg.type === \"TSpan\"\n        || svg.name === \"tspan\") {\n        if (!svg.childs) return;\n        let a = textAttrs ? Object.assign({}, textAttrs) : {};\n        if (svg.attrs) {\n          for (const k of Object.keys(svg.attrs)) {\n            a[k] = svg.attrs[k];\n          }\n        }\n        svg.childs.map((c: any) => fn(c, transform, a));\n      }\n\n\n      // Handle the actual text\n\n      if (svg.text && textAttrs) {\n        this.textSpans.push(new SvgTextSpan(svg.text, textAttrs,\n          transform.then(locationTransform)));\n      }\n    };\n\n    fn(svg, null, svg.attrs);\n\n\n    // Base these on text spans\n\n    const firstSpan = this.textSpans.length > 0 ? this.textSpans[0] : undefined;\n    this.fontSize = firstSpan ? firstSpan.fontSize : DEFAULT_FONT_SIZE;\n    this.color = firstSpan ? firstSpan.color : \"black\";\n  }\n\n\n  /**\n   * Extract the text (e.g. for sorting)\n   *\n   * @param [any] svg the SVG\n   * @return [string] the extracted text\n   */\n  extractText(svg: any): string {\n\n    if (svg.text) return svg.text;\n\n    if (svg.type === \"Text\"\n      || svg.type === \"TSpan\" || svg.name === \"tspan\") {\n      if (svg.childs) {\n        return svg.childs\n          .map((c: any) => this.extractText(c))\n          .reduce((t: string, c: string) => t + c, \"\");\n      }\n    }\n\n    return \"\";\n  }\n\n\n  /**\n   * Clone.\n   *\n   * @return [SvgText] the clone.\n   */\n  clone(): SvgText {\n    let r = Object.create(this);\n    r.location = { x: this.location.x, y: this.location.y };\n    r.textSpans = this.textSpans.slice(0);\n    return r;\n  }\n\n\n  /**\n   * Merge with another component.\n   *\n   * @param [SvgText] other the other component.\n   */\n  merge(other: SvgText) {\n\n    // TODO: This requires that \"this\" comes before \"other.\" Fix that.\n\n    let sameLine = Math.abs(this.location.y - other.location.y) <= 2;\n\n    if (!sameLine) this.text += \" \";\n    this.text += other.text;\n\n    var locationTransformForThis: SvgTransform;\n    if (other.location.x >= this.location.x) {\n      locationTransformForThis = new SvgTransform();\n    }\n    else {\n      locationTransformForThis = SvgTransform.fromTranslate(\n        this.location.x - other.location.x,\n        0\n      );\n      this.textSpans.forEach(t => {\n        t.transform = t.transform.then(locationTransformForThis);\n        t.origin = locationTransformForThis.apply(t.origin);\n        if (t.layout) {\n          t.layout.x = t.location.x;\n          t.layout.y = t.location.y;\n        }\n      });\n      this.location.x = other.location.x;\n    }\n\n    let locationTransformForOther = SvgTransform.fromTranslate(\n      other.location.x - this.location.x,\n      other.location.y - this.location.y\n    );\n\n    other.textSpans.forEach(t => {\n      var x = t.clone();\n      x.transform = x.transform.then(locationTransformForOther);\n      x.origin = locationTransformForOther.apply(x.origin);\n      if (x.layout) {\n        x.layout.x = x.location.x;\n        x.layout.y = x.location.y;\n      }\n      this.textSpans.push(x);\n    });\n\n    if (!!this.layout && !!other.layout) {\n      var thisX2 = this.layout.x + this.layout.width;\n      var thisY2 = this.layout.y + this.layout.height;\n      var otherX2 = other.layout.x + other.layout.width;\n      var otherY2 = other.layout.y + other.layout.height;\n\n      if (otherX2 > thisX2) this.layout.width  += otherX2 - thisX2;\n      if (otherY2 > thisY2) this.layout.height += otherY2 - thisY2;\n    }\n  }\n\n\n  /**\n   * Render using React Native (not SVG).\n   *\n   * @param [any] key the key.\n   * @param [number] scale the scale.\n   * @return [React.Component] the rendered component.\n   */\n  renderNative(key?: any, scale: number = 1) {\n    return (\n      <View\n        key={key}\n        style={{\n          position: \"relative\"\n        }}>\n        {this.textSpans.map((s, i) => s.renderNative(i, scale))}\n      </View>\n    );\n  }\n}\n\n\ntype SvgTextComponentProps = {\n  text: SvgText;\n  asHint?: boolean;\n  scale?: number;\n  onMeasure?: (layout: LayoutRectangle) => void;\n}\n\n\ntype SvgTextComponentState = {\n  spanLayouts?: LayoutRectangle[];\n  overallLayout?: LayoutRectangle;\n}\n\n\n/**\n * A component for rendering a collection of SVG text spans.\n */\nclass SvgTextComponent\nextends React.Component<SvgTextComponentProps, SvgTextComponentState> {\n\n  /**\n   * The constructor.\n   *\n   * @param [SvgTextComponentProps] props the properties.\n   */\n  constructor(props: SvgTextComponentProps) {\n    super(props);\n    this.state = {};\n  }\n\n\n  /**\n   * Handle the measurement.\n   *\n   * @param [LayoutRectangle[]] layouts the layouts with dimensions filled in.\n   */\n  handleMeasure(layouts: LayoutRectangle[]) {\n    var overall: LayoutRectangle = {\n      x: this.props.text.location.x,\n      y: this.props.text.location.y,\n      width: 0,\n      height: 0\n    };\n    for (var i = 0; i < layouts.length; i++) {\n      var p = this.props.text.textSpans[i].location;\n      overall.width = Math.max(overall.width, layouts[i].width + p.x);\n      overall.height = Math.max(overall.height, layouts[i].height + p.y);\n      this.props.text.textSpans[i].layout = {\n        x: p.x,\n        y: p.y,\n        width: layouts[i].width,\n        height: layouts[i].height,\n      }\n    }\n    this.props.text.layout = overall;\n    this.setState({\n      spanLayouts: layouts,\n      overallLayout: overall,\n    });\n    if (this.props.onMeasure) {\n      this.props.onMeasure(overall);\n    }\n  }\n\n\n  /**\n   * Render the component.\n   */\n  render() {\n    const scale = this.props.scale === undefined ? 1 : this.props.scale;\n    return (\n      <View\n        style={[\n          {\n            position: \"relative\",\n            width: this.state.overallLayout\n              ? this.state.overallLayout.width * scale + 1 : undefined,\n            height: this.state.overallLayout\n              ? this.state.overallLayout.height * scale : undefined,\n          }\n        ]}>\n        {this.state.overallLayout\n          && (this.props.text.textSpans.map((s, i) =>\n            s.renderNative(i, scale, false, this.props.asHint)))}\n        <MeasureComponents key={-1} onMeasure={l => this.handleMeasure(l)}>\n          {this.props.text.textSpans.map((s, i) => s.renderNative(i, 1, true))}\n        </MeasureComponents>\n      </View>\n    );\n  }\n}\n\n\ntype BmcDiagramProps = {\n  book: string;\n  testMode?: boolean;\n  testHints?: boolean;\n}\n\n\ntype BmcDiagramState = {\n  layout?: LayoutRectangle;\n  containerLayout?: LayoutRectangle;\n  correctTextLocation: boolean[];\n  hasTestLayouts?: boolean;\n  totalWidth: number;\n}\n\n\n/**\n * The BMC diagram + a version for testing.\n *\n * This diagram is based on an SVG converted to the JSON format.\n */\nexport default class BmcDiagram\nextends React.Component<BmcDiagramProps, BmcDiagramState> {\n\n  svg: any;\n  svgView: View | null;\n  svgViewBox: LayoutRectangle | undefined;\n  texts: SvgText[];\n\n\n  /**\n   * Create an instance of class BmcDiagram.\n   *\n   * @oaram [BmcDiagramProps] props the properties\n   */\n  constructor(props: BmcDiagramProps) {\n    super(props);\n    this.svgView = null;\n\n\n    // Fetch and validate the SVG\n\n    this.svg = DATA[this.props.book.replace(/ /g, \"_\")];\n    if (!this.svg || this.svg.type !== \"Svg\") this.svg = null;\n\n\n    // Fetch and parse the view box\n\n    if (this.svg && this.svg.attrs && this.svg.attrs.viewBox) {\n      const v = this.svg.attrs.viewBox.split(/[, ]+/)\n        .map((v: any) => parseFloat(v));\n      if (v.length === 4) {\n        this.svgViewBox = {\n          x: v[0],\n          y: v[1],\n          width: v[2],\n          height: v[3],\n        };\n      }\n    }\n\n\n    // Extract the labels, so that they can be draggable.\n\n    this.texts = !(this.svg && this.svg.childs) ? new Array<SvgText>(0) :\n      (this.svg.childs.map((c: any) => this.extractSvgText(c))).flat();\n\n    let correctTextLocation = new Array<boolean>(this.texts.length);\n    for (let i = 0; i < correctTextLocation.length; i++) {\n      correctTextLocation[i] = !this.props.testMode;\n    }\n\n\n    // Set the initial state\n\n    this.state = {\n      layout: undefined,\n      correctTextLocation: correctTextLocation,\n      totalWidth: this.svgViewBox ? this.svgViewBox.width : 100,\n    };\n  }\n\n\n  /**\n   * Compute the test layouts\n   */\n  doTestLayout() {\n    if (!this.props.testMode || !this.svgViewBox) return;\n\n\n    // Merge relevant components\n\n    let deleted = Array(this.texts.length).fill(false);\n    for (var done = false; !done; ) {\n      done = true;\n\n      for (var i = 0; i < this.texts.length; i++) {\n        if (deleted[i]) continue;\n        for (var j = 0; j < this.texts.length; j++) {\n          if (i === j) continue;\n          if (deleted[j]) continue;\n\n          let a = this.texts[i];\n          let b = this.texts[j];\n\n          if (!a.layout || !b.layout) continue;\n          if (a.fontSize !== b.fontSize) continue;\n          if (a.color !== b.color) continue;\n\n\n          // On the same line\n\n          if (Math.abs(a.layout.y - b.layout.y) < 1 && a.layout.x < b.layout.x){\n            if (Math.abs(a.layout.x + a.layout.width - b.layout.x) <= 2) {\n              a.merge(b);\n              deleted[j] = true;\n              done = false;\n              continue;\n            }\n          }\n\n\n          // On top of each other\n\n          if (Math.abs(a.layout.y + a.layout.height - b.layout.y) < 2) {\n\n            // Hack: Do not merge red\n            if (a.color === \"red\" || a.color.match(/^rgb\\(2..,.*/)\n              || a.color.match(/^#[c-fC-F].*/)) {\n              continue;\n            }\n\n            // Left-justified\n            if (Math.abs(a.layout.x - b.layout.x) <= 2) {\n              a.merge(b);\n              deleted[j] = true;\n              done = false;\n              continue;\n            }\n\n            // Center-justified\n            if (Math.abs(a.layout.x + a.layout.width / 2\n                - b.layout.x - b.layout.width / 2) <= 4) {\n              a.merge(b);\n              deleted[j] = true;\n              done = false;\n              continue;\n            }\n\n            // Right-justified\n            if (Math.abs(a.layout.x + a.layout.width\n                - b.layout.x - b.layout.width) <= 2) {\n              a.merge(b);\n              deleted[j] = true;\n              done = false;\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    this.texts = this.texts.filter((v, i) => !deleted[i]);\n\n\n    // Sort the components\n\n    const collator = new Intl.Collator(undefined, {\n      numeric: true,\n      sensitivity: 'base'\n    });\n    this.texts.sort((a, b) => {\n      //if (a.fontSize !== b.fontSize) return a.fontSize > b.fontSize ? -1 : 1;\n      if (a.color !== b.color) return a.color < b.color ? -1 : 1;\n      return collator.compare(a.text, b.text);\n    });\n\n\n    // Lay out the components\n\n    let tx = this.svgViewBox.x + this.svgViewBox.width;\n    let ty = this.svgViewBox.y;\n    let widest = 0;\n    let paddingX = 15;\n    let paddingY = 5;\n\n    this.texts.forEach(t => {\n      if (t.layout === undefined) return;\n\n      t.testLocation = { x: tx, y: ty };\n      ty += t.layout.height + paddingY;\n      if (t.layout.width > widest) widest = t.layout.width;\n      if (this.svgViewBox &&\n        ty + t.layout.height > this.svgViewBox.y + this.svgViewBox.height) {\n        ty = this.svgViewBox.y;\n        tx += paddingX + widest;\n        widest = 0;\n      }\n    });\n\n    let totalWidth = tx + widest + paddingY;\n\n\n    // Update the state\n\n    this.setState({\n      hasTestLayouts: true,\n      totalWidth: totalWidth,\n    });\n  }\n\n  /**\n   * Receive the measurement of a text component\n   *\n   * @param [SvgText] text the corresponding text source.\n   * @param [LayoutRectangle layout the layout with dimensions filled in.\n   */\n  handleSvgTextComponentLayout(text: SvgText, layout: LayoutRectangle) {\n    if (this.props.testMode && this.svgViewBox) {\n      if (this.texts.map(t => !!t.layout).reduce((t, c) => t && c, true)) {\n        // All layouts are now filled in\n        this.doTestLayout();\n      }\n    }\n  }\n\n\n  /**\n   * Extract text.\n   *\n   * @param [any] svg the SVG JSON to render\n   */\n  extractSvgText(svg: any): SvgText[] {\n\n    let r = new Array<SvgText>();\n\n    const fn = (\n      svg: any,\n      transformSoFar: SvgTransform | null,\n    ) => {\n\n      // Determine the new transform\n\n      let transform = transformSoFar || new SvgTransform();\n      if (svg.attrs) {\n        if (svg.attrs.transform) {\n          transform = transform.then(SvgTransform.parse(svg.attrs.transform));\n        }\n        if (svg.attrs.x || svg.attrs.y) {\n          transform = transform.then(SvgTransform.fromTranslate(\n            svg.attrs.x ? parseFloat(svg.attrs.x) : 0,\n            svg.attrs.y ? parseFloat(svg.attrs.y) : 0));\n        }\n      }\n\n\n      // Recurse into containers\n\n      if (svg.type === \"G\") {\n        if (svg.childs) {\n          svg.childs.map((c: any) => fn(c, transform));\n        }\n      }\n\n\n      // Handle the text component\n\n      if (svg.type === \"Text\") {\n        r.push(new SvgText(svg, transform));\n      }\n    };\n\n    fn(svg, null);\n    return r;\n  }\n\n\n  /**\n   * Render a SVG component.\n   *\n   * @param [any] svg the SVG JSON to render\n   */\n  renderSvg(svg: any, key?: any) {\n\n    if (svg.text) return svg.text;\n\n\n    // Fix up attributes\n\n    let attrs = svg.attrs;\n    if (attrs === null || attrs === undefined) attrs = {};\n    if (attrs.fontSize) {\n      attrs = Object.assign({}, attrs);\n      attrs.fontSize += \"px\";\n    }\n\n\n    // Render and recurse\n\n    if (svg.type === \"G\") {\n      return (\n        <SvgComponent.G key={key} {...attrs}>\n          {svg.childs\n            && svg.childs.map((c: any, i: any) => this.renderSvg(c, i))}\n        </SvgComponent.G>\n      );\n    }\n\n    if (svg.type === \"Path\") {\n      if (attrs.d) {\n        // TODO Split at Z instead to fix iOS rendering problems?\n        attrs = Object.assign({}, attrs);\n        attrs.d = attrs.d.replace(\"z\", \" Z \");\n      }\n      return (\n        <SvgComponent.Path key={key} {...attrs}>\n          {svg.childs\n            && svg.childs.map((c: any, i: any) => this.renderSvg(c, i))}\n        </SvgComponent.Path>\n      );\n    }\n\n    if (!this.props.testMode) {\n      if (svg.type === \"Text\") {\n        return (\n          <SvgComponent.Text key={key} {...attrs}>\n            {svg.childs\n              && svg.childs.map((c: any, i: any) => this.renderSvg(c, i))}\n          </SvgComponent.Text>\n        );\n      }\n\n      if (svg.type === \"TSpan\" || svg.name === \"tspan\") {\n        return (\n          <SvgComponent.TSpan key={key} {...attrs}>\n            {svg.childs\n              && svg.childs.map((c: any, i: any) => this.renderSvg(c, i))}\n          </SvgComponent.TSpan>\n        );\n      }\n    }\n\n    return null;\n  }\n\n\n  /**\n   * Render the component.\n   */\n  render() {\n\n    const windowDimensions = Dimensions.get('window');\n    if (windowDimensions.width <= 0) return;\n    if (!this.svg || !this.svgViewBox) return;\n\n\n    // Compute the scale\n\n    let totalWidth = windowDimensions.width;\n    if (totalWidth > this.state.totalWidth) totalWidth = this.state.totalWidth;\n    let scale = 1.0 * totalWidth / this.state.totalWidth;\n\n    let svgWidth = scale * this.svgViewBox.width;\n    let svgHeight = 1.0 * svgWidth\n      * this.svgViewBox.height / this.svgViewBox.width;\n\n    if (this.state.containerLayout) {\n      if (svgHeight > this.state.containerLayout.height) {\n        scale *= this.state.containerLayout.height / svgHeight;\n        svgHeight = this.state.containerLayout.height;\n        svgWidth = scale * this.svgViewBox.width;\n      }\n    }\n\n\n    // Compute the layout transform\n\n    let layoutTransform: SvgTransform;\n\n    if (!this.state.layout) {\n      layoutTransform = new SvgTransform();\n    }\n    else {\n      let tm = SvgTransform.fromTranslate(this.state.layout.x,\n        this.state.layout.y);\n      let sm = SvgTransform.fromScale(scale);\n      layoutTransform = tm.then(sm);\n    }\n\n\n    // Render\n\n    return (\n      <View\n        style={{ flexGrow: 1, flexShrink: 1 }}\n        onLayout={e => {\n          this.setState({ containerLayout: e.nativeEvent.layout });\n        }}>\n        <View\n          ref={r => { this.svgView = r; }}\n          onLayout={e => {\n            // Get the absolute position, so that we can then\n            // position floatable components relative to it.\n            this.setState({ layout: e.nativeEvent.layout });\n          }}>\n          <Svg\n            width={svgWidth}\n            height={svgHeight}\n            viewBox={this.svg.attrs.viewBox}>\n            {this.svg.childs.map((c: any, i: any) => this.renderSvg(c, i))}\n          </Svg>\n        </View>\n        {this.props.testMode && this.props.testHints\n            && this.texts.map((t, index) => {\n          if (this.state.correctTextLocation[index]) return null;\n          let location = layoutTransform.apply(t.location);\n          return (\n            <Draggable\n              key={index}\n              disabled={true}\n              style={{\n                position: \"absolute\",\n                left: location.x,\n                top: location.y,\n              }}>\n              {this.state.hasTestLayouts && <SvgTextComponent\n                text={t}\n                scale={scale}\n                asHint={true}\n                />}\n            </Draggable>);\n          })}\n        {this.props.testMode && this.texts.map((t, index) => {\n          let atTestLocation = !this.state.correctTextLocation[index];\n          let location = layoutTransform.apply(\n            atTestLocation && t.testLocation ? t.testLocation : t.location);\n          let dropLocation = undefined;\n          if (atTestLocation && t.testLocation) {\n            dropLocation = layoutTransform.apply(t.location);\n          }\n          return (\n            <Draggable\n              key={index}\n              disabled={!atTestLocation}\n              dropLocation={dropLocation && {\n                x: dropLocation.x-50,\n                y: dropLocation.y-50,\n                width: 100,\n                height: 100\n              }}\n              dropLocationRelative={this.svgView}\n              onDropToLocation={() => {\n                let v = this.state.correctTextLocation.slice(0);\n                v[index] = true;\n                this.setState({ correctTextLocation: v });\n              }}\n              style={{\n                position: \"absolute\",\n                left: location.x,\n                top: location.y,\n              }}>\n              {this.state.hasTestLayouts && <SvgTextComponent\n                text={t}\n                scale={scale}\n                />}\n            </Draggable>);\n          })}\n        {this.props.testMode && !this.state.hasTestLayouts &&\n          <View style={{\n            width: 2000,\n            height: 0,\n            overflow: 'hidden',\n            position: 'absolute',\n            left: 0,\n            top: 0,\n          }}>\n            {this.props.testMode && this.texts.map((t, index) => {\n              return <SvgTextComponent\n                key={index}\n                text={t}\n                scale={scale}\n                onMeasure={layout => this.handleSvgTextComponentLayout(t, layout)}\n                />;\n            })}\n          </View>}\n      </View>\n    );\n  }\n}\n","\nexport type BmcItem = {\n  chapter: number | string,\n  part: string | null,\n  label: string,\n  heading?: string,\n}\n\nexport type BmcBook = {\n  title: string,\n  notes?: string[],\n  items: BmcItem[],\n}\n\nexport type BmcLibrary = {\n  contents: BmcBook[]\n}\n\n\nconst BMC_GENESIS : BmcBook = {\n  title: \"Genesis\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Creation\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Garden of Eden/Adam and Eve\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Fall\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Cain and Abel\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Genealogy of Adam\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Noah builds the Ark\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Great Flood\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"End of the Flood\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Covenant of the Rainbow\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Genealogy of Noah\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Tower of Babel, genealogy of Shem\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Call of Abram\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Lot leaves Abram\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Melchizedek\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Abram's righteousness through faith, God's land covenant\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Birth of Ishmael\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Names changed to Abraham and Sarah, covenant of circumcision\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Intercessory prayer\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Destruction of Sodom and Gomorrah\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Abraham's lie/God's protection\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Birth of Isaac\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Sacrifice of Isaac\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Death of Sarah, burial in Machpelah\"\n    },\n    {\n      chapter: 24,\n      part: \"a\",\n      label: \"Rebekah in Haran\"\n    },\n    {\n      chapter: 24,\n      part: \"b\",\n      label: \"Marriage of Isaac and Rebekah\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Death of Abraham, birth of Esau and Jacob\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Treaty between Isaac and Abimelech\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Isaac blesses Jacob\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Vow at Bethel\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Jacob, Laban, Leah, Rachel\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Jacob's prosperity\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Jacob's return\"\n    },\n    {\n      chapter: 32,\n      part: null,\n      label: \"Jacob wrestles with God/name changed to Israel\"\n    },\n    {\n      chapter: 33,\n      part: null,\n      label: \"Meeting Esau\"\n    },\n    {\n      chapter: 34,\n      part: null,\n      label: \"Dinah incident\"\n    },\n    {\n      chapter: 35,\n      part: null,\n      label: \"El-Bethel covenant renewal, death of Isaac\"\n    },\n    {\n      chapter: 36,\n      part: null,\n      label: \"Genealogy of Esau\"\n    },\n    {\n      chapter: 37,\n      part: null,\n      label: \"Joseph is sold by his brothers\"\n    },\n    {\n      chapter: 38,\n      part: null,\n      label: \"Judah and Tamar\"\n    },\n    {\n      chapter: 39,\n      part: null,\n      label: \"Joseph is falsely accused\"\n    },\n    {\n      chapter: 40,\n      part: null,\n      label: \"Dreams of cupbearer and baker\"\n    },\n    {\n      chapter: 41,\n      part: null,\n      label: \"Joseph the Prime Minister\"\n    },\n    {\n      chapter: 42,\n      part: null,\n      label: \"Meeting the brothers 1\"\n    },\n    {\n      chapter: 43,\n      part: null,\n      label: \"Meeting the brothers 2\"\n    },\n    {\n      chapter: 44,\n      part: null,\n      label: \"Benjamin/silver cup\"\n    },\n    {\n      chapter: 45,\n      part: null,\n      label: \"Joseph makes himself known to his brothers\"\n    },\n    {\n      chapter: 46,\n      part: null,\n      label: \"Jacob's family moves to Egypt (70 people)\"\n    },\n    {\n      chapter: 47,\n      part: null,\n      label: \"Settling in Goshen\"\n    },\n    {\n      chapter: 48,\n      part: null,\n      label: \"Jacob blesses Ephraim and Manasseh\"\n    },\n    {\n      chapter: 49,\n      part: null,\n      label: \"Jacob blesses his 12 sons\"\n    },\n    {\n      chapter: 50,\n      part: null,\n      label: \"Death of Jacob and Joseph\"\n    },\n  ]\n};\n\nconst BMC_EXODUS : BmcBook = {\n  title: \"Exodus\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Suffering\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Moses\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Calling\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Return\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Meeting Pharaoh\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Promise\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Blood\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"FGF (frogs, gnats, flies)\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"PBH (pestilence, boils, hail)\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"LD (locusts, darkness)\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Warning of the firstborns' death\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Passover\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Escape\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Crossing Red Sea\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Song of salvation, bitter water\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Manna\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Meribah 1, Amalekites\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Jethro/delegation\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Sinai Covenant\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Ten Commandments\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Laws concerning life\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Laws concerning property\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Laws concerning feasts\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Covenant wedding ceremony\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"ATG (Ark of the Covenant, table for bread, golden lampstand)\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Veil\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Altar\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Priestly garments\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Priestly regulations\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Basin\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Skilled workers\"\n    },\n    {\n      chapter: 32,\n      part: null,\n      label: \"Golden calf\"\n    },\n    {\n      chapter: 33,\n      part: null,\n      label: \"Intercession\"\n    },\n    {\n      chapter: 34,\n      part: null,\n      label: \"Second tablets of the Ten Commandments\"\n    },\n    {\n      chapter: 35,\n      part: null,\n      label: \"Offerings\"\n    },\n    {\n      chapter: 36,\n      part: null,\n      label: \"Tabernacle construction begins\"\n    },\n    {\n      chapter: 37,\n      part: null,\n      label: \"ATGI (Ark of the Covenant, table for bread, \"\n        + \"golden lampstand, altar of incense)\"\n    },\n    {\n      chapter: 38,\n      part: null,\n      label: \"AB (altar, basin)\"\n    },\n    {\n      chapter: 39,\n      part: null,\n      label: \"Completion of priestly garments/completion of tabernacle\"\n    },\n    {\n      chapter: 40,\n      part: null,\n      label: \"Dedication\"\n    },\n  ]\n};\n\nconst BMC_LEVITICUS : BmcBook = {\n  title: \"Leviticus\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Burnt offering\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Grain offering\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Peace offering\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Sin offering\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Guilt offering (for restitution)\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Duties of priests 1\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Duties of priests 2\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Consecration of priests\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Aaron's first sacrifice\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Death of Nadab and Abihu\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"CU (clean-unclean) food\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Purification after childbirth\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Laws for leprosy\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Laws for cleansing lepers\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Laws about bodily discharges\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"The Day of Atonement\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Laws for blood\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Sexual morality 1\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Be holy\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Sexual morality 2\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Qualifications for priests\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Portions of priests\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"7 feasts\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"LBB (lamp, bread of the Presence, blasphemer)\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Sabbath year (every 7 years), Jubilee (every 50 years)\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"BC (blessings, curses)\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Vows, tithes\"\n    },\n  ]\n};\n\nconst BMC_NUMBERS : BmcBook = {\n  title: \"Numbers\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Census of Israel's army (603,550)\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Formation of camps\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Number of all Levites (1 month and up -- 22,000)\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Number of Levites in ministry (30-50 years old -- 8,580)\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"3 Purification laws (camp, sin, marriage)\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Nazarite laws\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Leaders' offerings\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Consecration of Levites\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Second Passover\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Departure\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Grumbling of the Israelites\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Grumbling of Miriam and Aaron\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"12 spies\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"40-year punishment\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Summary of sacrifices\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Rebellion of Korah, Dathan, Abiram\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Budding of Aaron's staff\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Duties and portions of priests and Levites\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Purification laws\"\n    },\n    {\n      chapter: 20,\n      part: \"a\",\n      label: \"Meribah 2\"\n    },\n    {\n      chapter: 20,\n      part: \"b\",\n      label: \"Aaron's death on Mt. Hor\"\n    },\n    {\n      chapter: 21,\n      part: \"a\",\n      label: \"Bronze snake\"\n    },\n    {\n      chapter: 21,\n      part: \"b\",\n      label: \"Conquest of Heshbon, Bashan\"\n    },\n    {\n      chapter: \"22-25\",\n      part: null,\n      label: \"Balaam-Balak incident\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Census of Israel's army (601,730)\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Joshua the new leader\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Feasts 1\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Feasts 2\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Vows\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Revenge against the Midianites\"\n    },\n    {\n      chapter: 32,\n      part: null,\n      label: \"Division of land (east of Jordan)\"\n    },\n    {\n      chapter: 33,\n      part: null,\n      label: \"Summary of wilderness journey\"\n    },\n    {\n      chapter: 34,\n      part: null,\n      label: \"Boundaries of land (west of Jordan)\"\n    },\n    {\n      chapter: 35,\n      part: null,\n      label: \"Cities of refuge\"\n    },\n    {\n      chapter: 36,\n      part: null,\n      label: \"Law of land inheritance for daughters \"\n        + \"(Zelophehad's daughters)\"\n    },\n  ]\n};\n\nconst BMC_DEUTERONOMY : BmcBook = {\n  title: \"Deuteronomy\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      heading: \"Summary of Numbers\",\n      label: \"12 spies\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Conquest of Heshbon\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Conquest of Bashan, Moses forbidden to \"\n        + \"enter the Promised Land\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Moses' exhortation\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      heading: \"Summary of Exodus\",\n      label: \"Ten Commandments\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Shema\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Destroy completely!\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Do not forget!\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Golden calf\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Second tablets of the Ten Commandments, \"\n        + \"Circumcise your heart!\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"BC 1 (blessings, curses)\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      heading: \"Summary of Leviticus\",\n      label: \"Pagan idols\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Israelite idols\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"CU (clean, unclean) food\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Sabbath year\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"3 feasts (Passover, Weeks, Booths)\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Laws concerning kings\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Provision for priests, promise for a prophet like Moses\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Cities of refuge\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Laws concerning warfare\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Miscellaneous laws 1\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Sexual morality\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"ACV (assembly, camp, vow)\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Miscellaneous laws 2\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Miscellaneous laws 3\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Tithes\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      heading: \"Covenant in the plains of Moab\",\n      label: \"Curses\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"BC 2 (blessings, curses)\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Covenant in the plains of Moab 1\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Covenant in the plains of Moab 2\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Moses commissions Joshua as his successor\"\n    },\n    {\n      chapter: 32,\n      part: null,\n      label: \"Song of Moses\"\n    },\n    {\n      chapter: 33,\n      part: null,\n      label: \"Blessing of Moses\"\n    },\n    {\n      chapter: 34,\n      part: null,\n      label: \"Death of Moses\"\n    },\n  ]\n};\n\nconst BMC_JOSHUA : BmcBook = {\n  title: \"Joshua\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Preparation for conquest\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Two spies/Rahab\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Crossing the Jordan\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Memorial stones\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"CPMC (circumcision, Passover, manna, the Commander)\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Conquest of Jericho\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Achan's sin\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Conquest of Ai\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Gibeonite deception\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Conquest of the south (\\\"Sun, stand still\\\")\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Conquest of the north\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Summary of conquest (33 kings)\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Division of the land (east of Jordan)\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Caleb's hill country\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Tribe of Judah\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Tribe of Ephraim\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Tribe of Manasseh\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Tribe of Benjamin\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Other tribes\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Cities of refuge\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Cities of the Levites (48)\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Altar of Witness\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Joshua's farewell sermon\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Shechem Covenant\"\n    },\n  ]\n};\n\nconst BMC_JUDGES : BmcBook = {\n  title: \"Judges\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Failure in conquest\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Spiritual failure\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Othniel, Ehud, Shamgar\"\n    },\n    {\n      chapter: 4,\n      part: \"a\",\n      label: \"Deborah at the hill country of Ephraim\"\n    },\n    {\n      chapter: 4,\n      part: \"b\",\n      label: \"Victory of Deborah and Barak\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Song of victory\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Calling of Gideon\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Gideon's victory\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Gideon's idol\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Abimelech the evildoer\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Tola, Jair\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Jephthah\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Jephthah's conflict with Ephraim, Ibzan, Elon, Abdon\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Samson's birth\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Samson's marriage\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Samson's victory\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Samson and Delilah\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Micah's idol\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Danites' idol\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"A Levite and his concubine\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"War against [the] Benjaminites\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Preservation of the Benjaminites\"\n    },\n  ]\n};\n\nconst BMC_RUTH : BmcBook = {\n  title: \"Ruth\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Naomi and her family sojourn in Moab, \"\n        + \"Ruth follows Naomi to Bethlehem\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Ruth meets Boaz\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Kinsman-redeemer\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Boaz marries Ruth (Obed--Jesse--David)\"\n    },\n  ]\n};\n\nconst BMC_1_SAMUEL : BmcBook = {\n  title: \"1 Samuel\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Hannah's prayer\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Eli's sin, birth of Samuel\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Calling of Samuel\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Capture of the Ark\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Plagues of the Ark\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Return of the Ark\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Mizpah revival\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Request for king\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Meeting of Saul and Samuel\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Anointing of Saul\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Ammonite war\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Samuel's farewell sermon\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Saul's foolish sacrifice\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Jonathan's victory by faith\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"To obey is better than sacrifice\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Anointing of David\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"David kills Goliath\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Meeting of David and Jonathan, Saul's jealousy 1\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Saul's jealousy 2\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Friendship of David and Jonathan\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Escape to Nob\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Adullam 400\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Saving Keilah\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Corner of Saul's robe\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Samuel's death, marriage to Abigail\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Saul's spear and water jug\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Receiving Ziklag\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Medium of Endor\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Philistines distrust David\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Revenge against the Amalekites\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Saul's death\"\n    },\n  ]\n};\n\nconst BMC_2_SAMUEL : BmcBook = {\n  title: \"2 Samuel\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"David's lament\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"King of Judah in Hebron (7 years)\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Abner's death\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Ish-bosheth's death\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"King of all Israel in Jerusalem (33 years)\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"The Ark of the Covenant brought to Jerusalem\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Davidic Covenant (Nathan's Oracle)\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Military victories\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Mephibosheth at king's table\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Ammonite war\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Bathsheba\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Nathan's rebuke / David's repentance\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Break-up of the family\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Absalom's escape and return\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Absalom's mutiny\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Shimei curses David\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Two strategies (Hushai vs. Ahithophel)\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Absalom's death\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"David's return\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Sheba's mutiny\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Avenging the Gibeonites\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"David's testimony\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"David's last words and his mighty men\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"David's foolish census / Araunah's (= Ornan) threshing floor\"\n    },\n  ]\n};\n\nconst BMC_1_KINGS : BmcBook = {\n  title: \"1 Kings\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"King Solomon\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Purge\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Solomon's wisdom\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Prosperity 1\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Preparation for Temple construction\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Temple construction begins\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Construction of palace, Temple furnishings\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"The Ark of the Covenant brought to the Temple\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Solomonic Covenant\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Prosperity 2 (Queen of Sheba)\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Fall and death of Solomon\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Divided Kingdom\"\n    },\n    {\n      chapter: 12,\n      part: \"S\",\n      label: \"Rehoboam\"\n    },\n    {\n      chapter: 12,\n      part: \"N\",\n      label: \"Jeroboam\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Old prophet and young prophet\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Shishak invasion\"\n    },\n    {\n      chapter: 15,\n      part: \"S\",\n      label: \"Abijam (= Abijah), Asa, Jehoshaphat\"\n    },\n    {\n      chapter: 15,\n      part: \"N\",\n      label: \"Nadab, Baasha\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Elah, Zimri, Omri, Ahab\"\n    },\n    {\n      chapter: 17,\n      part: \"a\",\n      label: \"Elijah at Brook Cherith\"\n    },\n    {\n      chapter: 17,\n      part: \"b\",\n      label: \"Elijah at Zarephath\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Elijah at Mt. Carmel\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Elijah at Mt. Horeb (= Mt. Sinai)\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Wars with Syria\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Naboth's vineyard\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Ahab's death\"\n    },\n  ]\n};\n\nconst BMC_2_KINGS : BmcBook = {\n  title: \"2 Kings\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Ahaziah\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Ascension of Elijah (chariots of fire)\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Jehoram (= Joram)\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Elisha's 4 miracles\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Naaman\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"God protects Elisha\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"4 lepers\"\n    },\n    {\n      chapter: 8,\n      part: \"N\",\n      label: \"Shunammite woman's land\"\n    },\n    {\n      chapter: 8,\n      part: \"S\",\n      label: \"Jehoram (= Joram), Ahaziah\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Jehu\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Jehu's purge\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Athaliah\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Jehoash (= Joash)\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Jehoahaz, Jehoash (= Joash)\"\n    },\n    {\n      chapter: 14,\n      part: \"S\",\n      label: \"Amaziah\"\n    },\n    {\n      chapter: 14,\n      part: \"N\",\n      label: \"Jeroboam II\"\n    },\n    {\n      chapter: 15,\n      part: \"S\",\n      label: \"Azariah (= Uzziah), Jotham\"\n    },\n    {\n      chapter: 15,\n      part: \"N\",\n      label: \"Zechariah, Shallum, Menahem, Pekahiah, Pekah\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Ahaz\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Hoshea (last king of Israel)\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Hezekiah\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Hekekiah's prayer\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Hezekiah's illness\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Manasseh, Amon\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Josiah (Book of the Law found)\"\n    },\n    {\n      chapter: 23,\n      part: \"a\",\n      label: \"Josiah's reforms\"\n    },\n    {\n      chapter: 23,\n      part: \"b\",\n      label: \"Jehoahaz\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Jehoiakim, Jehoiachin, Zedekiah (last king of Judah)\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Fall of Judah\"\n    },\n  ]\n};\n\nconst BMC_1_CHRONICLES : BmcBook = {\n  title: \"1 Chronicles\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Genealogy of Adam\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Genealogy of Judah\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Genealogy of David\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Southern tribes\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Eastern tribes\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Levites\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Northern tribes\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Tribe of Benjamin\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"List of returned exiles\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Saul's death\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"King David\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"David's mighty men\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Uzzah's death\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"David's fame\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"The Ark of the Covenant brought to Jerusalem\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"David's prayer of thanksgiving\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Davidic Covenant (Nathan's Oracle)\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Early victories of war\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Late victories of war\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Ammonite war\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"David's foolish census/Ornan's (= Araunah) threshing floor\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Preparation for Temple construction\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Duties of Levites\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Duties of priests\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Duties of musicians\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Duties of gatekeepers\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Military and administrative organization\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"David's charge to Solomon to build the Temple\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Offerings for Temple construction\"\n    },\n  ]\n};\n\nconst BMC_2_CHRONICLES : BmcBook = {\n  title: \"2 Chronicles\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Solomon's wisdom\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Preparation for Temple construction\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Temple construction begins\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Temple furnishings\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"The Ark of the Covenant brought to the Temple\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Solomon's dedication prayer and thanksgiving\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Dedication of the Temple/Feast of Tabernacles\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Prosperity\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Solomon's death\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Divided kingdom -- Rehoboam\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Rehoboam strengthens kingdom\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Shishak invasion\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Abijah (= Abijam)\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Reign of Asa\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Asa's reforms\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Hanani rebukes Asa (verse 9)\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Jehoshaphat's reforms\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Ahab's death\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Jehu (son of Hanani) rebukes Jehoshaphat\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Jehoshaphat's prayer\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Jehoram (= Joram)\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Ahaziah\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Athaliah\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Joash (= Jehoash)\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Amaziah\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Uzziah (= Azariah)\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Jotham\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Ahaz\"\n    },\n    {\n      chapter: 29,\n      part: null,\n      label: \"Hezekiah cleanses Temple\"\n    },\n    {\n      chapter: 30,\n      part: null,\n      label: \"Hezekiah restores Passover\"\n    },\n    {\n      chapter: 31,\n      part: null,\n      label: \"Hezekiah's reforms\"\n    },\n    {\n      chapter: 32,\n      part: null,\n      label: \"Hezekiah's death\"\n    },\n    {\n      chapter: 33,\n      part: null,\n      label: \"Manasseh, Amon\"\n    },\n    {\n      chapter: 34,\n      part: null,\n      label: \"Josiah's reforms\"\n    },\n    {\n      chapter: 35,\n      part: null,\n      label: \"Josiah's grand Passover celebration\"\n    },\n    {\n      chapter: 36,\n      part: null,\n      label: \"Jehoahaz, Jehoiakim, Jehoiachin, \"\n        + \"Zedekiah (last king of Judah)\"\n    },\n  ]\n};\n\nconst BMC_MATTHEW : BmcBook = {\n  title: \"Matthew\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Genealogy, Birth of Jesus\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Magi, Herod\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"John the Baptist/Baptism of Jesus\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Temptations of Jesus\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Beatitudes:\"\n    },\n    {\n      chapter: 5,\n      part: \"1\",\n      label: \"Poor in Spirit\"\n    },\n    {\n      chapter: 5,\n      part: \"2\",\n      label: \"Mourn\"\n    },\n    {\n      chapter: 5,\n      part: \"3\",\n      label: \"Meek\"\n    },\n    {\n      chapter: 5,\n      part: \"4\",\n      label: \"Hungry and thirsty for righteousness\"\n    },\n    {\n      chapter: 5,\n      part: \"5\",\n      label: \"Merciful\"\n    },\n    {\n      chapter: 5,\n      part: \"6\",\n      label: \"Pure in heart\"\n    },\n    {\n      chapter: 5,\n      part: \"7\",\n      label: \"Peacemakers\"\n    },\n    {\n      chapter: 5,\n      part: \"8\",\n      label: \"Persecuted\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"APF (alms, prayer, fasting)\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"ASK (ask, seek, knock)\"\n    },\n    {\n      chapter: 8,\n      part: \"a\",\n      label: \"Centurion\"\n    },\n    {\n      chapter: 8,\n      part: \"b\",\n      label: \"Storm\"\n    },\n    {\n      chapter: 8,\n      part: \"c\",\n      label: \"Two demoniacs\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"PBB (paralytic, bleeding woman, blind men)\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"12 disciples: \"\n        + \"Peter--Andrew, James--John, Philip--Bartholomew, \"\n        + \"Thomas--Matthew, James--Thaddaeus, Simon--Judas\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"\\\"Come to me\\\"\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Sabbath\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"PK (parables of Kingdom)\"\n    },\n    {\n      chapter: 14,\n      part: \"a\",\n      label: \"Death of John the Baptist\"\n    },\n    {\n      chapter: 14,\n      part: \"b\",\n      label: \"Five loaves and two fish\"\n    },\n    {\n      chapter: 14,\n      part: \"c\",\n      label: \"Walking on water\"\n    },\n    {\n      chapter: 15,\n      part: \"a\",\n      label: \"Hypocrisy of elders' tradition\"\n    },\n    {\n      chapter: 15,\n      part: \"b\",\n      label: \"Canaanite woman (= Syrophoenician woman)\"\n    },\n    {\n      chapter: 15,\n      part: \"c\",\n      label: \"Seven loaves and a few fish\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Peter's confession\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Transfiguration\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Little children\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Rich Young Ruler\"\n    },\n    {\n      chapter: 20,\n      part: \"a\",\n      label: \"11th-hour worker\"\n    },\n    {\n      chapter: 20,\n      part: \"b\",\n      label: \"Two blind men\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Triumphal Entry of Jesus, cleansing the Temple\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Great Commandment\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"7 woes\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"SET (signs of the end times)\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"VT (virgin, talent parables)\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Alabaster jar, Lord's Supper, Gethsemane, arrest, \"\n        + \"Peter's denial and repentance\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Death on the Cross\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Resurrection, Great Commission\"\n    },\n  ]\n};\n\nconst BMC_MARK : BmcBook = {\n  title: \"Mark\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Beginning of the gospel of Jesus\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Paralytic, call of Levi (= Matthew), fasting controversy\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Jesus calls the Twelve\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Parables of the Kingdom, storm\"\n    },\n    {\n      chapter: 5,\n      part: \"a\",\n      label: \"Demoniac\"\n    },\n    {\n      chapter: 5,\n      part: \"b\",\n      label: \"Bleeding woman, Jairus' daughter\"\n    },\n    {\n      chapter: 6,\n      part: \"a\",\n      label: \"Sending out the Twelve\"\n    },\n    {\n      chapter: 6,\n      part: \"b\",\n      label: \"Death of John the Baptist\"\n    },\n    {\n      chapter: 6,\n      part: \"c\",\n      label: \"Five loaves and two fish\"\n    },\n    {\n      chapter: 6,\n      part: \"d\",\n      label: \"Walking on water\"\n    },\n    {\n      chapter: 7,\n      part: \"a\",\n      label: \"Hypocrisy of elders' traditions\"\n    },\n    {\n      chapter: 7,\n      part: \"b\",\n      label: \"Syrophoenician woman (= Canaanite woman)\"\n    },\n    {\n      chapter: 8,\n      part: \"a\",\n      label: \"Seven loaves and a few fish\"\n    },\n    {\n      chapter: 8,\n      part: \"b\",\n      label: \"Second touch\"\n    },\n    {\n      chapter: 8,\n      part: \"c\",\n      label: \"Peter's confession\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Transfiguration\"\n    },\n    {\n      chapter: 10,\n      part: \"a\",\n      label: \"Rich young ruler, servanthood (verse 45)\"\n    },\n    {\n      chapter: 10,\n      part: \"b\",\n      label: \"Bartimaeus\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Triumphal Entry of Jesus, cleansing the Temple\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Wicked tenants, resurrection controversy, \"\n        + \"Great Commandment, widow's two coins\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"SET (signs of the end times)\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Alabaster jar, Lord's Supper, Gethsemane, arrest, \"\n        + \"Peter's denial and repentance\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Death on the Cross\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Resurrection, Great Commission, ascension\"\n    },\n  ]\n};\n\nconst BMC_LUKE : BmcBook = {\n  title: \"Luke\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"John the Baptist, Mary and Elizabeth\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Birth of Jesus: SAS (shepherds, Anna, Simeon)\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Baptism and genealogy of Jesus\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Temptations of Jesus\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Jesus calls Peter\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Jesus calls the Twelve, Sermon on the plain\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"CNA (centurion, Nain, alabaster jar)\"\n    },\n    {\n      chapter: 8,\n      part: \"a\",\n      label: \"Storm\"\n    },\n    {\n      chapter: 8,\n      part: \"b\",\n      label: \"Demoniac\"\n    },\n    {\n      chapter: 8,\n      part: \"c\",\n      label: \"Jairus' daughter\"\n    },\n    {\n      chapter: 9,\n      part: \"a\",\n      label: \"Sending out the Twelve\"\n    },\n    {\n      chapter: 9,\n      part: \"b\",\n      label: \"Five loaves and two fish\"\n    },\n    {\n      chapter: 9,\n      part: \"c\",\n      label: \"Peter's confession\"\n    },\n    {\n      chapter: 9,\n      part: \"d\",\n      label: \"Transfiguration\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Sending out the seventy-two, Good Samaritan\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"LAB6 (Lord's Prayer, ask-seek-knock, Beelzebul, 6 woes)\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Rich fool\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Repent! Enter through the narrow door!\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Cost of discipleship (3 P's)\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Return of the prodigal son\" //Lost SCP (Sheep, Coin, Prodigal)\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Shrewd manager, poor Lazarus\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Unworthy servant\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"How to pray (persistent widow, tax collector)\"\n    },\n    {\n      chapter: 19,\n      part: \"a\",\n      label: \"Zacchaeus\"\n    },\n    {\n      chapter: 19,\n      part: \"b\",\n      label: \"Triumphal Entry of Jesus, cleansing the Temple\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Wicked tenants, resurrection controversy\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Widow's two coins, SET (signs of the end times)\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Lord's Supper, Gethsemane, arrest, \"\n        + \"Peter's denial and repentance\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Death on the Cross\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Resurrection, road to Emmaus, ascension\"\n    },\n  ]\n};\n\nconst BMC_JOHN : BmcBook = {\n  title: \"John\",\n  notes: [\n    \"(* after the \\\"I AM\\\" expressions)\",\n  ],\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Word, Lamb of God\"\n    },\n    {\n      chapter: 2,\n      part: \"a\",\n      label: \"Wedding at Cana\"\n    },\n    {\n      chapter: 2,\n      part: \"b\",\n      label: \"Cleansing the Temple\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Nicodemus\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Samaritan woman\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Invalid at the Bethesda Pool\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Five loaves and two fish, The Bread of life*\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Feast of Booths/Rivers of Living Water (Holy Spirit)\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Adulterous woman, The Light of the world*\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Healing a blind man\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"The Door of the sheep*, The Good Shepherd*\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Raising Lazarus, The Resurrection and the Life*\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"Grain of wheat\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Lord's Supper, washing feet, New Commandment\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"The Way, the Truth, and the Life*\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"The Vine*\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Holy Spirit the Helper\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"High priestly prayer of Jesus\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Arrest, Peter's denial\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Death on the Cross\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Resurrection\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Feed my sheep\"\n    },\n  ]\n};\n\nconst BMC_ACTS : BmcBook = {\n  title: \"Acts\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Promise of Holy Spirit, Great Commission, ascension, \"\n        + \"choosing of Matthias\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Pentecost (coming of Holy Spirit), \"\n        + \"birth of the Jerusalem church\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Healing of the lame man\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Peter and John before the Sanhedrin\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Death of Ananias and Sapphira\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"7 deacons\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Stephen's martyrdom\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Philip the deacon/Judea and Samaria mission\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Saul's conversion on the road to Damascus\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Meeting of Cornelius and Peter\"\n    },\n    {\n      chapter: 11,\n      part: \"a\",\n      label: \"Peter's mission report\"\n    },\n    {\n      chapter: 11,\n      part: \"b\",\n      label: \"\\\"Christians\\\"\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"James' martyrdom, Peter's escape, Herod Agrippa's death\"\n    },\n    {\n      chapter: 13,\n      part: \"a\",\n      label: \"Commissioning of missionaries (Saul and Barnabas)\"\n    },\n    {\n      chapter: 13,\n      part: \"b\",\n      label: \"First missionary journey begins: \"\n        + \"Antioch--Cyprus (Saul becomes Paul)--Perga--Pisidia Antioch\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"First missionary journey continues: \"\n        + \"Iconium--Lystra--Derbe--Lystra--Iconium--\"\n        + \"Pisidia Antioch--Perga--Attalia--Antioch\"\n    },\n    {\n      chapter: 15,\n      part: \"a\",\n      label: \"Jerusalem Council\"\n    },\n    {\n      chapter: 15,\n      part: \"b\",\n      label: \"Second missionary journey begins \"\n        + \"(Parting of Paul and Barnabas): Antioch--Syria--Cilicia\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Second missionary journey continues: \"\n        + \"Derbe--Lystra--Troas--Neapolis--Philippi\"\n    },\n    {\n      chapter: 16,\n      part: \"a\",\n      label: \"Lystra: Timothy joins Paul\"\n    },\n    {\n      chapter: 16,\n      part: \"b\",\n      label: \"Troas: Macedonian Call, Luke joins Paul\"\n    },\n    {\n      chapter: 16,\n      part: \"c\",\n      label: \"Philippi: Lydia, jailer\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Second missionary journey continues:\"\n    },\n    {\n      chapter: 17,\n      part: \"a\",\n      label: \"Thessalonica\"\n    },\n    {\n      chapter: 17,\n      part: \"b\",\n      label: \"Berea\"\n    },\n    {\n      chapter: 17,\n      part: \"c\",\n      label: \"Athens\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Second missionary journey continues: \"\n        + \"Corinth--Cenchreae--Ephesus--Caesarea--Jerusalem--Antioch\"\n    },\n    {\n      chapter: 18,\n      part: \"a\",\n      label: \"Corinth: Aquila and Priscilla\"\n    },\n    {\n      chapter: 18,\n      part: \"b\",\n      label: \"Cenchreae: Paul's vow\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Third missionary journey begins, \"\n        + \"Priscilla and Aquila teach Apollos in Ephesus\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Third missionary journey continues\"\n    },\n    {\n      chapter: 19,\n      part: null,\n      label: \"Ephesus: Hall of Tyrannus, great revival, riot\"\n    },\n    {\n      chapter: 20,\n      part: null,\n      label: \"Third missionary journey continues: \"\n        + \"Macedonia--Greece (Corinth)--Philippi--Troas--Miletus\"\n    },\n    {\n      chapter: 20,\n      part: \"a\",\n      label: \"Troas: Eutychus\"\n    },\n    {\n      chapter: 20,\n      part: \"b\",\n      label: \"Miletus: Farewell with Ephesian elders\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"Third missionary journey continues: \"\n        + \"Tyre--Caesarea--Jerusalem\"\n    },\n    {\n      chapter: 21,\n      part: \"a\",\n      label: \"Tyre: Warning 1 by disciples\"\n    },\n    {\n      chapter: 21,\n      part: \"b\",\n      label: \"Caesarea: Warning 2 by Agabus\"\n    },\n    {\n      chapter: 21,\n      part: \"c\",\n      label: \"Jerusalem: Paul's arrest\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Defense in the Temple\"\n    },\n    {\n      chapter: 23,\n      part: null,\n      label: \"Defense before the Sanhedrin, \"\n        + \"Paul strengthened by Jesus in a vision\"\n    },\n    {\n      chapter: 24,\n      part: null,\n      label: \"Defense before Felix\"\n    },\n    {\n      chapter: 25,\n      part: null,\n      label: \"Defense before Festus/appeal to Caesar\"\n    },\n    {\n      chapter: 26,\n      part: null,\n      label: \"Defense before Herod Agrippa II\"\n    },\n    {\n      chapter: 27,\n      part: null,\n      label: \"Fourth missionary journey begins: \"\n        + \"Caesarea--Sidon--Fair Havens\"\n    },\n    {\n      chapter: 27,\n      part: \"a\",\n      label: \"Caesarea: Fourth missionary journey begins\"\n    },\n    {\n      chapter: 27,\n      part: \"b\",\n      label: \"Northeaster: Shipwreck\"\n    },\n    {\n      chapter: 28,\n      part: null,\n      label: \"Fourth missionary journey continues: Malta--Rome\"\n    },\n    {\n      chapter: 28,\n      part: \"a\",\n      label: \"Malta: Snake incident\"\n    },\n    {\n      chapter: 28,\n      part: \"b\",\n      label: \"Rome: Arrival, unhindered preaching of the gospel\"\n    },\n  ]\n};\n\nconst BMC_ROMANS : BmcBook = {\n  title: \"Romans\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      heading: \"Doctrine of Sin\",\n      label: \"Gentiles' Sin\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Jews' Sin\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Sin of all mankind\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      heading: \"Doctrine of Salvation\",\n      label: \"Justification by faith 1\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Justification by faith 2\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      heading: \"Doctrine of Sanctification\",\n      label: \"Baptism\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"Law\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"Spirit\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      heading: \"Blessings of Israel\",\n      label: \"Israel's past\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"Israel's present\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"Israel's future\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      heading: \"Christian Practice\",\n      label: \"Believers' life in the Church\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Believers' life in Society\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"Believers' life with one another\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      heading: \"\",\n      label: \"Summary\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Greetings\"\n    },\n  ]\n};\n\nconst BMC_REVELATION : BmcBook = {\n  title: \"Revelation\",\n  items: [\n    {\n      chapter: 1,\n      part: null,\n      label: \"Revelation of Jesus\"\n    },\n    {\n      chapter: 2,\n      part: null,\n      label: \"Churches 1: ESPT (Ephesus, Smyrna, Pergamum, Thyatira)\"\n    },\n    {\n      chapter: 3,\n      part: null,\n      label: \"Churches 2: SPL (Sardis, Philadelphia, Laodicea)\"\n    },\n    {\n      chapter: 4,\n      part: null,\n      label: \"Throne of God\"\n    },\n    {\n      chapter: 5,\n      part: null,\n      label: \"Worthy is the Lamb\"\n    },\n    {\n      chapter: 6,\n      part: null,\n      label: \"Judgment of 7 seals (6 seals are opened)\"\n    },\n    {\n      chapter: 7,\n      part: null,\n      label: \"The 144,000 of Israel saved, \"\n        + \"countless multitude of Gentiles\"\n    },\n    {\n      chapter: 8,\n      part: null,\n      label: \"7th seal is opened, \"\n        + \"Judgment of 7 trumpets begins (1-4 trumpets)\"\n    },\n    {\n      chapter: 9,\n      part: null,\n      label: \"Judgment of 7 trumpets continues (5, 6 trumpets)\"\n    },\n    {\n      chapter: 10,\n      part: null,\n      label: \"The little scroll\"\n    },\n    {\n      chapter: 11,\n      part: null,\n      label: \"The 7th trumpet\"\n    },\n    {\n      chapter: 12,\n      part: null,\n      label: \"The woman and the dragon\"\n    },\n    {\n      chapter: 13,\n      part: null,\n      label: \"Two beasts\"\n    },\n    {\n      chapter: 14,\n      part: null,\n      label: \"The 144,000 of the sealed\"\n    },\n    {\n      chapter: 15,\n      part: null,\n      label: \"Song of Moses and the Lamb\"\n    },\n    {\n      chapter: 16,\n      part: null,\n      label: \"Judgment of 7 bowls\"\n    },\n    {\n      chapter: 17,\n      part: null,\n      label: \"Judgment for the great Prostitute\"\n    },\n    {\n      chapter: 18,\n      part: null,\n      label: \"Judgment for the great Babylon\"\n    },\n    {\n      chapter: 19,\n      part: \"a\",\n      label: \"Marriage supper of the Lamb\"\n    },\n    {\n      chapter: 19,\n      part: \"b\",\n      label: \"The Rider on a white horse (King of kings, Lord of lords)\"\n    },\n    {\n      chapter: 19,\n      part: \"c\",\n      label: \"Lake-of-fire judgment for the Beast and False Prophet\"\n    },\n    {\n      chapter: 20,\n      part: \"a\",\n      label: \"Millennial Kingdom\"\n    },\n    {\n      chapter: 20,\n      part: \"b\",\n      label: \"Lake-of-fire judgment for Satan and unbelievers\"\n    },\n    {\n      chapter: 21,\n      part: null,\n      label: \"New Heaven and a New Earth, New Jerusalem\"\n    },\n    {\n      chapter: 22,\n      part: null,\n      label: \"Reigning with Jesus forever, \\\"Come, Lord Jesus!\\\"\"\n    },\n  ]\n};\n\n\nexport const BMC_DATA : BmcLibrary = {\n  contents: [\n    BMC_GENESIS,\n    BMC_EXODUS,\n    BMC_LEVITICUS,\n    BMC_NUMBERS,\n    BMC_DEUTERONOMY,\n    BMC_JOSHUA,\n    BMC_JUDGES,\n    BMC_RUTH,\n    BMC_1_SAMUEL,\n    BMC_2_SAMUEL,\n    BMC_1_KINGS,\n    BMC_2_KINGS,\n    BMC_1_CHRONICLES,\n    BMC_2_CHRONICLES,\n    BMC_MATTHEW,\n    BMC_MARK,\n    BMC_LUKE,\n    BMC_JOHN,\n    BMC_ACTS,\n    BMC_ROMANS,\n    BMC_REVELATION,\n  ]\n};\n","import React from 'react';\nimport {\n  SafeAreaView,\n  Text,\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport BmcDiagram from './BmcDiagram';\nimport InstructionsBar from './InstructionsBar';\nimport TopBar from './TopBar';\nimport * as BMC from './BmcData';\n\n\ntype StudyScreenProps = {\n  navigation: NavigationStackProp<{ book: string }>;\n}\n\n\ntype StudyScreenState = {\n}\n\n\nexport default class StudyScreen\nextends React.Component<StudyScreenProps, StudyScreenState> {\n\n  constructor(props: StudyScreenProps) {\n    super(props);\n    this.state = {}\n  }\n\n  render() {\n    const bookName = this.props.navigation.getParam(\"book\");\n    const book = BMC.BMC_DATA.contents.find(b => b.title === bookName);\n    if (book === undefined) return <Text>Internal Error</Text>;\n    return (\n      <SafeAreaView\n        style={{\n          flex: 1,\n          flexDirection: \"column\",\n        }}\n        >\n        <TopBar\n          navigation={this.props.navigation as unknown as NavigationStackProp}\n          text={bookName}\n          onBackIfWeb={() => this.props.navigation.navigate(\"BookAction\", { book: bookName })}\n          />\n        <InstructionsBar\n          text={\"Drag labels to the diagram:\"} />\n        <BmcDiagram book={bookName} testMode={true} testHints={true} />\n      </SafeAreaView>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Text,\n  TouchableHighlight,\n  View\n} from 'react-native';\nimport STYLES from './Styles';\n\n\ntype BookChooserProps = {\n  items: string[];\n  onChoose?: (book: string) => void;\n}\n\n\ntype BookChooserState = {\n}\n\n\nexport default class BookChooser\nextends React.Component<BookChooserProps, BookChooserState> {\n\n  constructor(props: BookChooserProps) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  render() {\n    return (\n      <View\n        style={[STYLES.actionList, {\n          alignItems: \"flex-start\",\n          flexDirection: \"column\",\n        }]}\n      >\n      {this.props.items.map((item, i) => {\n        return (\n          <TouchableHighlight\n            key={item}\n            onPress={e => {\n              if (this.props.onChoose) this.props.onChoose(item);\n            }}\n            >\n            <Text style={STYLES.actionListItem}>{item}</Text>\n          </TouchableHighlight>\n        )\n      })}\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  SafeAreaView,\n  ScrollView,\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport TopBar from './TopBar';\n\nimport BookChooser from './BookChooser';\nimport * as BMC from './BmcData';\n\ntype HomeScreenProps = {\n  navigation: NavigationStackProp;\n}\n\ntype HomeScreenState = {\n}\n\nexport default class HomeScreen\nextends React.Component<HomeScreenProps, HomeScreenState> {\n\n  bookItems: string[];\n\n  constructor(props: HomeScreenProps) {\n    super(props);\n    this.bookItems = BMC.BMC_DATA.contents.map(b => b.title);\n    this.state = {}\n    this.handleBookChoose = this.handleBookChoose.bind(this);\n  }\n\n\n  handleBookChoose(book: string) {\n    this.props.navigation.navigate(\"BookAction\", { book: book });\n  }\n\n\n  render() {\n    return (\n      <SafeAreaView style={{ flex: 1 }}>\n        <TopBar\n          hideBack={true}\n          navigation={this.props.navigation as unknown as NavigationStackProp}\n          text={\"Choose a book to study\"}\n          />\n        <ScrollView>\n          <BookChooser\n            items={this.bookItems}\n            onChoose={this.handleBookChoose}\n            />\n        </ScrollView>\n      </SafeAreaView>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  GestureResponderEvent,\n  NativeSyntheticEvent,\n  Platform,\n  Text,\n  TextInput,\n  TextInputChangeEventData,\n  TextInputKeyPressEventData,\n  TextInputProps,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\n\n\n// TODO: Redo this from byLetter to bySegment, so that it is more\n// flexible. This way, also backspace would work better, since currently\n// it has problems if the word contains \"-\" and it is byLetter.\n\n// TODO: Optional words, e.g. \"the\"\n// TODO: Numbers and numerals should be typed interchangeably\n// TODO: Account for keyboard distance, especially on small devices\n\n\ntype FirstLetterTextInputProps = {\n  allowBackspace?: boolean;\n  autoFocus?: boolean;\n  displayAll?: boolean;\n  readOnly?: boolean;\n  style?: {};\n  correctStyle?: {};\n  incorrectStyle?: {};\n  unseenStyle?: {};\n  optionalWords?: string[];\n  text: string;\n  onCompletion?: () => void;\n  onTopBackspace?: () => void;\n}\n\n\ntype FirstLetterTextInputState = {\n  index: number;\n  charIndex: number;\n  correct: boolean[][];\n  triggered: boolean[];\n  keyPressCount: number;\n}\n\n\ntype FirstLetterTextInputWord = {\n  word: string;\n  byLetter: boolean;\n  skip: boolean;\n  optional: boolean;\n  showOnlyIfTriggered: boolean;\n}\n\n\ntype FirstLetterTextInputDoNextWordResult = {\n  index: number;\n  charIndex: number;\n  wasCorrect: boolean;\n  reachedEnd: boolean;\n}\n\n\nexport default class FirstLetterTextInput\nextends React.Component<FirstLetterTextInputProps, FirstLetterTextInputState> {\n\n  words: FirstLetterTextInputWord[];\n  input: TextInput | null;\n  editlockLocked: boolean;\n  editlockTimeMS: number;\n  editlockTimeoutMS: number;\n  editlockTimeoutSafetyMS: number;\n\n  constructor(props: FirstLetterTextInputProps) {\n    super(props);\n\n    this.input = null;\n\n    this.editlockLocked = false;\n    this.editlockTimeMS = 0;\n    this.editlockTimeoutMS = 25;\n    this.editlockTimeoutSafetyMS = 100;\n\n    const textParts = props.text\n      .replace(/---/g, \"\\u2014\")     // &mdash;\n      .replace(/ -- /g, \" \\u2013 \")  // &ndash;\n      .replace(/--/g, \"\\u2014\")      // &mdash;\n      .split(/(?=[ /\\u2013\\u2014-])/g);\n    const n = textParts.length;\n    let words = new Array<FirstLetterTextInputWord>(n);\n    for (let i = 0; i < n; i++) {\n      let w = textParts[i];\n      if (w.length > 0 && i > 0) {\n        let t = w.charAt(0);\n        w = w.substr(1);\n        words[i - 1].word += t;\n      }\n\n      let byLetter = !!w.match(/^[^a-z]+$/)\n        && !w.match(/^[^A-Z0-9]*[A-Z0-9][^A-Z0-9]*$/);\n      let showOnlyIfTriggered = !byLetter\n        && !!w.match(/^\\[.+\\][,;:]?[ ]?$/);\n      let optional: boolean =\n        (!byLetter && !!this.props.optionalWords\n          && this.props.optionalWords.find(\n            s => w.toLowerCase() === s.toLowerCase()) !== undefined)\n        || showOnlyIfTriggered;   // [optional] word\n\n      words[i] = {\n        byLetter: byLetter,\n        skip: !!w.match(/^[^A-Za-z0-9]*$/),\n        optional: optional,\n        showOnlyIfTriggered: showOnlyIfTriggered,\n        word: w,\n      }\n    }\n\n    this.words = words;\n    this.state = {\n      index: 0,\n      charIndex: 0,\n      correct: new Array<boolean[]>(n),\n      triggered: new Array<boolean>(n),\n      keyPressCount: 0,\n    }\n\n    this.handlePress = this.handlePress.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  backspace(suppressTopBackspace: boolean = false) {\n\n    let charIndex = this.state.charIndex;\n    let index = this.state.index;\n\n    while (true) {\n\n      if (charIndex > 0) {\n        charIndex--;\n      }\n      else if (index > 0) {\n        index--;\n        let prevWord = this.words[index];\n        if (prevWord.byLetter && prevWord.word.length > 0) {\n          charIndex = prevWord.word.length - 1;\n        }\n        else {\n          charIndex = 0;\n        }\n      }\n      else {\n        this.setState({\n          index: index,\n          charIndex: charIndex,\n        });\n\n        if (this.props.onTopBackspace !== undefined\n          && !suppressTopBackspace) {\n          // TODO Call this asynchronously?\n          this.props.onTopBackspace();\n        }\n\n        return;\n      }\n\n      let w = this.words[index];\n      if (w.skip) continue;\n      if (w.showOnlyIfTriggered) {\n        if (!this.state.triggered[index]) continue;\n      }\n      if (w.byLetter) {\n        if (w.word.charAt(charIndex).match(/[A-Za-z0-9]/)) break;\n      }\n      else {\n        break;\n      }\n    }\n\n    this.setState({\n      index: index,\n      charIndex: charIndex,\n    });\n  }\n\n  focus() {\n    if (this.input != null) {\n      this.input.focus();\n    }\n  }\n\n  handlePress(event: GestureResponderEvent) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.focus();\n  }\n\n  handleChange(event: NativeSyntheticEvent<TextInputChangeEventData>) {\n    event.stopPropagation();\n    event.preventDefault();\n    let key = event.nativeEvent.text.toLowerCase();\n    this.handleKey(key);\n  }\n\n  handleKeyPress(event: NativeSyntheticEvent<TextInputKeyPressEventData>) {\n    event.stopPropagation();\n    event.preventDefault();\n    let key = event.nativeEvent.key.toLowerCase();\n    this.handleKey(key);\n  }\n\n  temporaryEventLock() {\n    let t = (new Date()).getTime();\n    this.editlockTimeMS = t;\n    this.editlockLocked = true;\n    setTimeout(\n      () => { this.editlockLocked = false; },\n      this.editlockTimeoutMS);\n  }\n\n  findNextCharacter(s: string, start: number) : [string, number] {\n    for (let i = start; i < s.length; i++) {\n      const c = s.charAt(i);\n      if (c.match(/[a-z0-9]/i)) {\n        return [c, i];\n      }\n    }\n    return [\"\", s.length];\n  }\n\n  updateCorrectState(correctState: boolean[][], index: number,\n    value: boolean, from: number = 0, to: number = -1) {\n    const word = this.words[index];\n    if (!correctState[index]) {\n      correctState[index] = new Array<boolean>(word.word.length);\n    }\n    if (word.byLetter) {\n      if (to <= 0 || to > correctState[index].length) {\n        to = correctState[index].length;\n      }\n      for (let i = from; i < to; i++) {\n        correctState[index][i] = value;\n      }\n    }\n    else {\n      for (let i = 0; i < correctState[index].length; i++) {\n        correctState[index][i] = value;\n      }\n    }\n  }\n\n  doNextWord(index: number, charIndex: number, key: string,\n    correctState: boolean[][], triggeredState: boolean[])\n    : FirstLetterTextInputDoNextWordResult {\n\n    if (index >= this.words.length) {\n      return {\n        index: this.words.length,\n        charIndex: 0,\n        wasCorrect: false,\n        reachedEnd: true,\n      }\n    }\n\n    let word = this.words[index];\n    let wordLowerCase = word.word.toLowerCase();\n    let originalIndex = index;\n    let originalCharIndex = charIndex;\n\n    let [nextWordCharacter, nextWordCharacterIndex]\n      = this.findNextCharacter(wordLowerCase, charIndex);\n    let [nextNextWordCharacter, nextNextWordCharacterIndex]\n      = this.findNextCharacter(wordLowerCase, nextWordCharacterIndex + 1);\n\n\n    // Determine whether the input is correct and mark the state\n    // accordingly.\n\n    let matches = key === nextWordCharacter || nextWordCharacter === \"\";\n    this.updateCorrectState(correctState, index, matches, charIndex,\n      nextNextWordCharacterIndex);\n\n    triggeredState[index] = true;\n    if (!matches && word.showOnlyIfTriggered) {\n      triggeredState[index] = false;\n    }\n\n\n    // Advance to the next word or a part of the word.\n\n    let nextWord = false;\n    if (word.byLetter) {\n      if (nextNextWordCharacter === \"\") {\n        index++;\n        charIndex = 0;\n        nextWord = true;\n      }\n      else {\n        charIndex = nextNextWordCharacterIndex;\n      }\n    }\n    else {\n      index++;\n      charIndex = 0;\n      nextWord = true;\n    }\n\n\n    // Ensure that the next word is actually a word, not just\n    // something that will be skipped entirely.\n\n    if (nextWord) {\n      while (index < this.words.length && this.words[index].skip) {\n        this.updateCorrectState(correctState, index, true);\n        index++;\n      }\n    }\n\n\n    // Check if this is an optional word, in which case maybe\n    // we should revisit the decision to mark this word wrong.\n\n    if (!matches && !word.byLetter && word.optional) {\n\n      // Speculatively look ahead to the next word. Note that we don't\n      // allow the last word to be an optional word at this point\n      // because we lack the ability to check the word on the next\n      // instance of this object (if there is one).\n\n      const r = this.doNextWord(index, charIndex, key, correctState,\n        triggeredState);\n      if (r.wasCorrect) {\n        this.updateCorrectState(correctState, originalIndex, true,\n          originalCharIndex, nextNextWordCharacterIndex);\n        triggeredState[originalIndex] = false;\n        return r;\n      }\n      else if (word.showOnlyIfTriggered) {\n        return this.doNextWord(index, charIndex, key, correctState,\n          triggeredState);\n      }\n    }\n\n\n    // Compose the return object.\n\n    return {\n      index: index,\n      charIndex: charIndex,\n      wasCorrect: matches,\n      reachedEnd: index >= this.words.length,\n    }\n  }\n\n  handleKey(key: string) {\n\n    if (this.editlockLocked) {\n      let t = (new Date()).getTime();\n      if (this.editlockTimeMS + this.editlockTimeoutSafetyMS < t) {\n        this.editlockLocked = false;\n      }\n      else {\n        return;\n      }\n    }\n    else {\n      this.temporaryEventLock();\n    }\n\n    this.setState((s) => { return { keyPressCount: s.keyPressCount + 1 }});\n\n    if (key === \"backspace\" && this.props.allowBackspace) {\n      this.backspace();\n    }\n\n    if (key.length === 1 && key.match(/[a-z0-9]/i)) {\n      if (this.state.index >= this.words.length) return;\n\n\n      // Process the next word\n\n      let correctState = this.state.correct.slice(0);\n      let triggeredState = this.state.triggered.slice(0);\n      let r = this.doNextWord(this.state.index,\n        this.state.charIndex, key, correctState, triggeredState);\n\n\n      // Update the state and call callbacks.\n\n      this.setState({\n        index: r.index,\n        charIndex: r.charIndex,\n        correct: correctState,\n        triggered: triggeredState,\n      });\n\n      if (r.reachedEnd) {\n        // TODO Call this asynchronously?\n        if (this.props.onCompletion !== undefined) {\n          this.props.onCompletion();\n        }\n      }\n    }\n  }\n\n  render() {\n    const isAndroidWeb = navigator && navigator.userAgent\n      ? navigator.userAgent.indexOf(\"Android\") >= 0 : false;\n    const readOnly = this.props.readOnly !== undefined && this.props.readOnly;\n    const platformDependentProps:TextInputProps =\n      Platform.OS === \"web\" ? {} : {\n        autoCompleteType: \"off\"\n      };\n    /*const currentWord = this.state.index < this.words.length\n      ? this.words[this.state.index] : null;*/\n    const style = {\n      correct: {\n        color: \"black\"\n      },\n      incorrect: {\n        color: \"red\"\n      },\n      unseen: {\n        color: \"#AAA\"\n      },\n    }\n    return (\n      <TouchableWithoutFeedback onPress={this.handlePress}>\n      <View\n        style={[this.props.style, {\n          alignItems: 'flex-start',\n          flexDirection: 'row',\n          flexShrink: 1,\n          flexWrap: 'wrap',\n          padding: 4,\n        }]}\n      >\n        <Text></Text>\n        {this.words.map((w, i) => {\n          if (w.showOnlyIfTriggered && w.word.length > 0) {\n            if (!this.state.triggered[i]) return null;\n          }\n          if (w.byLetter) {\n            if (i > this.state.index) return null;\n            return (\n              <Text key={i}>{\n                w.word.split(\"\").map((c, j) => {\n                  let correct = this.state.correct[i]\n                    && this.state.correct[i][j];\n                  if (i === this.state.index\n                    && j >= this.state.charIndex) return null;\n                  return <Text key={j}\n                    style={[\n                      correct ? style.correct : style.incorrect,\n                      correct ? this.props.correctStyle\n                        : this.props.incorrectStyle,\n                    ]}\n                    >{w.word[j]}</Text>\n                }\n              )\n            }</Text>)\n          }\n          else {\n            if (i >= this.state.index) return null;\n            let correct = this.state.correct[i] && this.state.correct[i][0];\n            return (\n              <Text\n                key={i}\n                style={[\n                  correct ? style.correct : style.incorrect,\n                  correct ? this.props.correctStyle\n                    : this.props.incorrectStyle,\n                ]}\n                  >{w.word}</Text>\n            )\n          }\n        })}\n        {readOnly ? null : (\n            <TextInput\n              ref={r => this.input = r}\n              style={[{\n                margin: 0,\n                padding: 0,\n                width: 5,\n              },\n              Platform.OS === \"android\"\n                && this.state.index === this.words.length\n                ? { color: \"#00000000\" } : undefined,\n              Platform.OS === \"android\"\n                ? { height: 18 /* XXX do not hardcode! */ } : undefined]}\n              onKeyPress={this.handleKeyPress}\n              onChange={this.handleChange}\n              autoCorrect={false}\n              autoFocus={this.props.autoFocus}\n              editable={true}\n              selectTextOnFocus={false}\n              caretHidden={false}\n              value={\"\"}\n              maxLength={isAndroidWeb || Platform.OS === \"android\" ? 1 : 0}\n              secureTextEntry={false}\n              textContentType={\"none\"}\n              autoCapitalize={\"characters\"}\n              {...platformDependentProps}\n              />\n          )\n        }\n        {this.words.map((w, i) => {\n          if (i < this.state.index) return null;\n          if (w.showOnlyIfTriggered) return null;\n          let fromIndex = (i === this.state.index\n            && this.words[this.state.index].byLetter)\n            ? this.state.charIndex : 0;\n          let shiftLeft = i === this.state.index;\n          for (let j = i - 1; j >= this.state.index; j--) {\n            if (!this.words[j].showOnlyIfTriggered) break;\n            if (j === this.state.index) shiftLeft = true;\n          }\n          return (\n            <Text key={i}\n              selectable={this.props.displayAll}\n              style={[\n                {\n                  color: this.props.displayAll ? \"inherit\" : \"#00000000\",\n                  marginLeft: shiftLeft && !readOnly ? -5 : 0\n                },\n                this.props.displayAll ? style.unseen : null,\n                this.props.displayAll ? this.props.unseenStyle : null,\n              ]}\n              >{w.word.substr(fromIndex)}</Text>\n          )\n        })}\n      </View>\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Text,\n  View\n} from 'react-native';\nimport FirstLetterTextInput from './FirstLetterTextInput';\nimport * as BMC from './BmcData';\nimport STYLES from './Styles';\n\n\n// TODO: Print notes (e.g. for John)\n// TODO: Indent numerical sublists (e.g. for the beatitudes in Matthew)\n\n\ntype BmcTextInputProps = {\n  allowBackspace?: boolean;\n  autoFocus?: boolean;\n  displayAllItems?: boolean;\n  displayAllTextInItem?: boolean;\n  everythingEditable?: boolean;\n  optionalWords?: string[];\n  items: BMC.BmcItem[];\n}\n\n\ntype BmcTextInputState = {\n  index: number;\n  previousIndex: number | null;\n}\n\n\ntype BmcTextInputElement = {\n  addSpace: boolean;\n  index: number;\n  input?: FirstLetterTextInput;\n  isHeading: boolean;\n  item: BMC.BmcItem;\n}\n\n\nexport default class BmcTextInput\nextends React.Component<BmcTextInputProps, BmcTextInputState> {\n\n  elements: BmcTextInputElement[];\n\n  constructor(props: BmcTextInputProps) {\n    super(props);\n\n    let n = this.props.items.length;\n    for (let i = 0; i < this.props.items.length; i++) {\n      let h = this.props.items[i].heading;\n      if (h !== undefined && h !== null && h !== \"\") n++;\n    }\n\n    this.elements = new Array<BmcTextInputElement>(n);\n    let j = 0;\n    for (let i = 0; i < this.props.items.length; i++) {\n      let h = this.props.items[i].heading;\n      if (h !== undefined && h !== null && h !== \"\") {\n        this.elements[j++] = {\n          index: i,\n          item: this.props.items[i],\n          isHeading: true,\n          addSpace: true,\n        }\n      }\n      this.elements[j++] = {\n        index: i,\n        item: this.props.items[i],\n        isHeading: false,\n        addSpace: h === \"\",\n      }\n    }\n\n    this.state = {\n      index: 0,\n      previousIndex: null,\n    }\n  }\n\n\n  createInput(i: number, label: string, isHeading: boolean) {\n    const headingStyle = {\n      fontWeight: \"bold\",\n      //textDecoration: \"underline\",\n    };\n    return <FirstLetterTextInput\n      ref={r => {\n        if (r != null && this.elements[i]) this.elements[i].input = r;\n      }}\n      allowBackspace={this.props.allowBackspace}\n      autoFocus={this.props.autoFocus && this.state.index === i}\n      correctStyle={!isHeading ? undefined : headingStyle }\n      incorrectStyle={!isHeading ? undefined : headingStyle }\n      unseenStyle={!isHeading ? undefined : headingStyle }\n      displayAll={this.props.displayAllTextInItem}\n      readOnly={!(this.props.everythingEditable\n        || this.state.index === i\n        || this.state.previousIndex === i)}\n      style={STYLES.test}\n      optionalWords={this.props.optionalWords}\n      text={label}\n      onCompletion={() => {\n        if (i + 1 < this.elements.length) {\n          this.setState({\n            index: i + 1,\n            previousIndex: i\n          }, () => {\n            // We need to hand off the focus to the next input element\n            // while the old one still exists, and only then we can\n            // clean up the old one. Otherwise the keyboard (at least\n            // on iOS) would flicker and occassionally switch from\n            // a third-party keyboard to the system keyboard.\n            setTimeout(() => {\n              let input = this.elements[i + 1].input;\n              if (input) input.focus();\n              setTimeout(() => {\n                // XXX Doing this will still cause some flicker!\n                //this.setState({ previousIndex: null });\n              }, 25);\n            }, 25);\n          });\n        }\n      }}\n      onTopBackspace={() => {\n        if (i > 0) {\n          this.setState({\n            index: i - 1,\n            previousIndex: i\n          }, () => {\n            setTimeout(() => {\n              let input = this.elements[i - 1].input;\n              if (input) {\n                input.backspace(true /* suppressTopBackspace */);\n                input.focus();\n              }\n              // XXX Doing this will still cause some flicker!\n              //(async () => this.setState({ previousIndex: null }))();\n            }, 25);\n          });\n        }\n      }}\n    />\n  }\n\n\n  render() {\n    return (\n      <View\n        style={[{}, {\n          alignItems: \"flex-start\",\n          flexDirection: \"column\",\n        }]}\n      >\n      {this.elements.map((element, i) => {\n        if (!this.props.displayAllItems) {\n          // XXX This causes the keyboard to flicker on backspace\n          if (i > this.state.index) return null;\n        }\n\n        let item = element.item;\n        if (element.isHeading) {\n          return <View\n            key={i}\n            style={{\n              alignItems: \"stretch\",\n              flexDirection: \"row\",\n              paddingTop: !element.addSpace ? 0 : (i === 0 ? 6 : 12),\n            }}\n            >\n            <Text style={{ flexShrink: 0, width: 55 }}></Text>\n            {item.heading && item.heading !== \"\"\n              ? this.createInput(i, item.heading, true)\n              : null}\n          </View>\n        }\n\n        let s = \"\";\n        let withChapter = false;\n        if (element.index === 0) {\n          s += item.chapter;\n          withChapter = true;\n        }\n        else {\n          const previous = this.props.items[element.index-1];\n          if (previous.chapter !== item.chapter) {\n            s += item.chapter;\n            withChapter = true;\n          }\n        }\n        if (item.part) s += item.part;\n        if (s !== \"\") {\n          if (!withChapter && s.match(/^[0-9]+$/)) {\n            s += \")\";\n          }\n          else {\n            s += \".\";\n          }\n        }\n        return (\n          <View\n            key={i}\n            style={{\n              alignItems: \"stretch\",\n              flexDirection: \"row\",\n              paddingTop: !element.addSpace ? 0 : (i === 0 ? 6 : 12),\n            }}\n            >\n            <Text\n              style={[STYLES.bmcTextChapter, {\n                flexShrink: 0,\n                textAlign: \"right\",\n                width: 55,\n              }]}\n              >{s + \"  \"}</Text>\n              {this.createInput(i, item.label, false)}\n          </View>\n        )\n      })}\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  KeyboardAvoidingView,\n  Platform,\n} from 'react-native';\n\n\ntype MyKeyboardAvoidingViewProps = {\n}\n\n\ntype MyKeyboardAvoidingViewState = {\n}\n\n\nexport default class MyKeyboardAvoidingView\nextends React.Component<MyKeyboardAvoidingViewProps,\n  MyKeyboardAvoidingViewState> {\n\n  constructor(props: MyKeyboardAvoidingViewProps) {\n    super(props);\n    this.state = {}\n  }\n\n  render() {\n    if (Platform.OS === \"web\") {\n      if (!this.props.children) return null;\n      let a = React.Children.map(this.props.children, c => c);\n      if (a.length === 0) return null;\n      return a[0];\n    }\n    else {\n      return (\n        <KeyboardAvoidingView\n          behavior={Platform.OS === \"android\" ? undefined : \"padding\"}>\n          {this.props.children}\n        </KeyboardAvoidingView>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport {\n  SafeAreaView,\n  ScrollView,\n  Text,\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport BmcDiagram from './BmcDiagram';\nimport BmcTextInput from './BmcTextInput';\nimport InstructionsBar from './InstructionsBar';\nimport MyKeyboardAvoidingView from './MyKeyboardAvoidingView';\nimport TopBar from './TopBar';\nimport * as BMC from './BmcData';\n\n\ntype StudyScreenProps = {\n  navigation: NavigationStackProp<{ book: string }>;\n}\n\n\ntype StudyScreenState = {\n}\n\n\nexport default class StudyScreen\nextends React.Component<StudyScreenProps, StudyScreenState> {\n\n  constructor(props: StudyScreenProps) {\n    super(props);\n    this.state = {}\n  }\n\n  render() {\n    const bookName = this.props.navigation.getParam(\"book\");\n    const book = BMC.BMC_DATA.contents.find(b => b.title === bookName);\n    if (book === undefined) return <Text>Internal Error</Text>;\n    return (\n      <SafeAreaView\n        style={{\n          flex: 1,\n          flexDirection: \"column\",\n        }}\n        >\n        <TopBar\n          navigation={this.props.navigation as unknown as NavigationStackProp}\n          text={bookName}\n          onBackIfWeb={() => this.props.navigation.navigate(\"BookAction\", { book: bookName })}\n          />\n        <InstructionsBar\n          text={\"Please type just the first letter, but spell out acronyms:\"} />\n        <MyKeyboardAvoidingView>\n          <ScrollView\n            style={{\n              flexGrow: 1,\n            }}\n            keyboardShouldPersistTaps={\"handled\"}\n            >\n            <BmcDiagram book={bookName} />\n            <BmcTextInput\n              allowBackspace={true}\n              displayAllItems={true}\n              displayAllTextInItem={true}\n              everythingEditable={true}\n              optionalWords={[\"a\", \"an\", \"the\"]}\n              items={book.items}\n              />\n          </ScrollView>\n        </MyKeyboardAvoidingView>\n      </SafeAreaView>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  SafeAreaView,\n  ScrollView,\n  Text,\n} from 'react-native';\nimport { NavigationStackProp } from 'react-navigation-stack';\nimport BmcTextInput from './BmcTextInput';\nimport InstructionsBar from './InstructionsBar';\nimport MyKeyboardAvoidingView from './MyKeyboardAvoidingView';\nimport TopBar from './TopBar';\nimport * as BMC from './BmcData';\n\n\ntype TestScreenProps = {\n  navigation: NavigationStackProp<{ book: string }>;\n}\n\n\ntype TestScreenState = {\n}\n\n\nexport default class TestScreen\nextends React.Component<TestScreenProps, TestScreenState> {\n\n  constructor(props: TestScreenProps) {\n    super(props);\n    this.state = {}\n  }\n\n  render() {\n    const bookName = this.props.navigation.getParam(\"book\");\n    const book = BMC.BMC_DATA.contents.find(b => b.title === bookName);\n    if (book === undefined) return <Text>Internal Error</Text>;\n    return (\n      <SafeAreaView\n        style={{\n          flex: 1,\n          flexDirection: \"column\",\n        }}\n        >\n        <TopBar\n          navigation={this.props.navigation as unknown as NavigationStackProp}\n          text={bookName}\n          onBackIfWeb={() => this.props.navigation.navigate(\"BookAction\", { book: bookName })}\n          />\n        <InstructionsBar\n          text={\"Please type just the first letter, but spell out acronyms:\"} />\n        <MyKeyboardAvoidingView>\n          <ScrollView\n            style={{\n              flexGrow: 1,\n            }}\n            keyboardShouldPersistTaps={\"handled\"}\n            >\n            <BmcTextInput\n              allowBackspace={false}\n              autoFocus={true}\n              displayAllItems={false}\n              displayAllTextInItem={false}\n              optionalWords={[\"a\", \"an\", \"the\"]}\n              items={book.items}\n              />\n          </ScrollView>\n        </MyKeyboardAvoidingView>\n      </SafeAreaView>\n    );\n  }\n}\n","import BookActionScreen from './BookActionScreen';\nimport DiagramScreen from './DiagramScreen';\nimport HomeScreen from './HomeScreen';\nimport StudyScreen from './StudyScreen';\nimport TestScreen from './TestScreen';\n\n// @ts-ignore\n// eslint-disable-next-line\nimport { createSwitchNavigator } from \"@react-navigation/core\";\n// @ts-ignore\n// eslint-disable-next-line\nimport { createBrowserApp } from '@react-navigation/web';\n\n\nconst routes: {} = {\n  Home: {screen: HomeScreen},\n  BookAction: {screen: BookActionScreen},\n  Diagram: {screen: DiagramScreen},\n  Study: {screen: StudyScreen},\n  Test: {screen: TestScreen},\n}\n\nconst MainNavigator = createSwitchNavigator(routes, {\n  backBehavior: \"history\",\n});\n\nconst App = createBrowserApp(MainNavigator, {\n  history: \"hash\"\n});\nexport default App;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './App';\n\nReactDom.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}